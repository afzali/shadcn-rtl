import"./Cm9PB-7n.js";import{u as t,g as s,j as r,ar as e,d as a,i as o,b as i,a as n,e as l,k as c,f as d,c as p,l as u,r as h,bu as f}from"./2wf1Aaj1.js";import{b as g}from"./CY9W8SNi.js";import{i as $,b as m,c as v}from"./B8dcjSjv.js";import{p as y,r as S,s as b}from"./Pna8C8of.js";import{c as j}from"./BVT9qnas.js";import{c as x}from"./C2y8RU1y.js";import{a as w,e as C,c as k,b as I,m as M}from"./Eys-yhWv.js";import{w as O}from"./BgwdPspx.js";import{C as P}from"./Dxq41yds.js";import{D as z}from"./DGFvS-vs.js";const L=C({component:"avatar",parts:["root","image","fallback"]}),A=new P("Avatar.Root");class D{static create(t){return A.set(new D(t))}opts;domContext;attachment;constructor(t){this.opts=t,this.domContext=new z(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=w(this.opts.ref)}loadImage(t,s,r){if("loaded"===this.opts.loadingStatus.current)return;let e;const a=new Image;return a.src=t,void 0!==s&&(a.crossOrigin=s),r&&(a.referrerPolicy=r),this.opts.loadingStatus.current="loading",a.onload=()=>{e=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},a.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{e&&this.domContext.clearTimeout(e)}}#t=t(()=>({id:this.opts.id.current,[L.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment}));get props(){return s(this.#t)}set props(t){r(this.#t,t)}}class T{static create(t){return new T(t,A.get())}opts;root;attachment;constructor(t,s){this.opts=t,this.root=s,this.attachment=w(this.opts.ref),O.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([t,s])=>{t?this.root.loadImage(t,s,this.opts.referrerPolicy.current):this.root.opts.loadingStatus.current="error"})}#t=t(()=>({id:this.opts.id.current,style:{display:"loaded"===this.root.opts.loadingStatus.current?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[L.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment}));get props(){return s(this.#t)}set props(t){r(this.#t,t)}}class q{static create(t){return new q(t,A.get())}opts;root;attachment;constructor(t,s){this.opts=t,this.root=s,this.attachment=w(this.opts.ref)}#s=t(()=>"loaded"===this.root.opts.loadingStatus.current?{display:"none"}:void 0);get style(){return s(this.#s)}set style(t){r(this.#s,t)}#t=t(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[L.fallback]:"",...this.attachment}));get props(){return s(this.#t)}set props(t){r(this.#t,t)}}var J=d("<div><!></div>");function N(r,d){const f=e();a(d,!0);let m=y(d,"delayMs",3,0),v=y(d,"loadingStatus",15,"loading"),b=y(d,"id",19,()=>k(f)),j=y(d,"ref",15,null),x=S(d,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const w=D.create({delayMs:I(()=>m()),loadingStatus:I(()=>v(),t=>{v()!==t&&(v(t),d.onLoadingStatusChange?.(t))}),id:I(()=>b()),ref:I(()=>j(),t=>j(t))}),C=t(()=>M(x,w.props));var O=o(),P=i(O),z=t=>{var r=o(),e=i(r);c(e,()=>d.child,()=>({props:s(C)})),n(t,r)},L=t=>{var r=J();g(r,()=>({...s(C)}));var e=p(r);c(e,()=>d.children??u),h(r),n(t,r)};$(P,t=>{d.child?t(z):t(L,!1)}),n(r,O),l()}var R=d("<img/>");function U(r,d){const p=e();a(d,!0);let u=y(d,"id",19,()=>k(p)),h=y(d,"ref",15,null),m=y(d,"crossorigin",3,void 0),v=y(d,"referrerpolicy",3,void 0),b=S(d,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const j=T.create({src:I(()=>d.src),id:I(()=>u()),ref:I(()=>h(),t=>h(t)),crossOrigin:I(()=>m()),referrerPolicy:I(()=>v())}),x=t(()=>M(b,j.props));var w=o(),C=i(w),O=t=>{var r=o(),e=i(r);c(e,()=>d.child,()=>({props:s(x)})),n(t,r)},P=t=>{var r=R();g(r,()=>({...s(x),src:d.src})),f(r),n(t,r)};$(C,t=>{d.child?t(O):t(P,!1)}),n(r,w),l()}var Y=d("<span><!></span>");function B(r,d){const f=e();a(d,!0);let m=y(d,"id",19,()=>k(f)),v=y(d,"ref",15,null),b=S(d,["$$slots","$$events","$$legacy","children","child","id","ref"]);const j=q.create({id:I(()=>m()),ref:I(()=>v(),t=>v(t))}),x=t(()=>M(b,j.props));var w=o(),C=i(w),O=t=>{var r=o(),e=i(r);c(e,()=>d.child,()=>({props:s(x)})),n(t,r)},P=t=>{var r=Y();g(r,()=>({...s(x)}));var e=p(r);c(e,()=>d.children??u),h(r),n(t,r)};$(C,t=>{d.child?t(O):t(P,!1)}),n(r,w),l()}var E=d("<div><!></div>");function F(t,s){a(s,!0);let r=y(s,"ref",15,null),e=S(s,["$$slots","$$events","$$legacy","ref","class","inset","children"]);var o=E();g(o,t=>({"data-slot":"dropdown-menu-label","data-inset":s.inset,class:t,...e}),[()=>j("px-2 py-1.5 text-sm font-semibold text-right data-[inset]:pr-8",s.class)]);var i=p(o);c(i,()=>s.children??u),h(o),m(o,t=>r(t),()=>r()),n(t,o),l()}function G(r,e){let c=S(e,["$$slots","$$events","$$legacy"]);!function(r,e){a(e,!0);let c=y(e,"ref",15,null),d=y(e,"loadingStatus",15,"loading"),p=S(e,["$$slots","$$events","$$legacy","ref","loadingStatus","class"]);var u=o(),h=i(u);{let r=t(()=>x("relative flex size-8 shrink-0 overflow-hidden rounded-full",e.class));v(h,()=>N,(t,e)=>{e(t,b({"data-slot":"avatar",get class(){return s(r)}},()=>p,{get ref(){return c()},set ref(t){c(t)},get loadingStatus(){return d()},set loadingStatus(t){d(t)}}))})}n(r,u),l()}(r,b(()=>c))}function H(r,e){let c=S(e,["$$slots","$$events","$$legacy"]);!function(r,e){a(e,!0);let c=y(e,"ref",15,null),d=S(e,["$$slots","$$events","$$legacy","ref","class"]);var p=o(),u=i(p);{let r=t(()=>x("aspect-square size-full",e.class));v(u,()=>U,(t,e)=>{e(t,b({"data-slot":"avatar-image",get class(){return s(r)}},()=>d,{get ref(){return c()},set ref(t){c(t)}}))})}n(r,p),l()}(r,b(()=>c))}function K(r,e){let c=S(e,["$$slots","$$events","$$legacy"]);!function(r,e){a(e,!0);let c=y(e,"ref",15,null),d=S(e,["$$slots","$$events","$$legacy","ref","class"]);var p=o(),u=i(p);{let r=t(()=>x("bg-muted flex size-full items-center justify-center rounded-full",e.class));v(u,()=>B,(t,e)=>{e(t,b({"data-slot":"avatar-fallback",get class(){return s(r)}},()=>d,{get ref(){return c()},set ref(t){c(t)}}))})}n(r,p),l()}(r,b(()=>c))}export{G as A,F as D,H as a,K as b};
