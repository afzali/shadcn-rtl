import"./DsnmJJEf.js";import{aH as w,ab as c,K as V,O as p,B,aI as S,aJ as H,d as J,i as K,b as M,a as m,e as O,f as E}from"./BhV4zVcd.js";import{i as P,b as x}from"./tuqvO9WI.js";import{b as y}from"./xUN7p0v8.js";import{p as b,r as W}from"./wyqmu6xp.js";import{c as h}from"./BVwZMugY.js";function k(e,a,i=a){var d=new WeakSet;w(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=g(e)?_(r):r,i(r),c!==null&&d.add(c),await V(),r!==(r=a())){var u=e.selectionStart,o=e.selectionEnd,v=e.value.length;if(e.value=r??"",o!==null){var n=e.value.length;u===o&&o===v&&n>v?(e.selectionStart=n,e.selectionEnd=n):(e.selectionStart=u,e.selectionEnd=Math.min(o,n))}}}),(p&&e.defaultValue!==e.value||B(a)==null&&e.value)&&(i(g(e)?_(e.value):e.value),c!==null&&d.add(c)),S(()=>{var l=a();if(e===document.activeElement){var r=H??c;if(d.has(r))return}g(e)&&l===_(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function g(e){var a=e.type;return a==="number"||a==="range"}function _(e){return e===""?null:+e}function j(e,a,i=a){w(e,"change",()=>{i(e.files)}),p&&e.files&&i(e.files),S(()=>{e.files=a()})}var q=E("<input/>"),z=E("<input/>");function N(e,a){J(a,!0);let i=b(a,"ref",15,null),d=b(a,"value",15),l=b(a,"files",15),r=b(a,"data-slot",3,"input"),u=W(a,["$$slots","$$events","$$legacy","ref","value","type","files","class","data-slot"]);var o=K(),v=M(o);{var n=f=>{var t=q();y(t,s=>({"data-slot":r(),class:s,type:"file",...u}),[()=>h("selection:bg-primary dark:bg-input/30 selection:text-primary-foreground border-input ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 pt-1.5 text-sm font-medium outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)],void 0,void 0,!0),x(t,s=>i(s),()=>i()),j(t,l),k(t,d),m(f,t)},I=f=>{var t=z();y(t,s=>({"data-slot":r(),class:s,type:a.type,...u}),[()=>h("border-input bg-background selection:bg-primary dark:bg-input/30 selection:text-primary-foreground ring-offset-background placeholder:text-muted-foreground shadow-xs flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base outline-none transition-[color,box-shadow] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a.class)],void 0,void 0,!0),x(t,s=>i(s),()=>i()),k(t,d),m(f,t)};P(v,f=>{a.type==="file"?f(n):f(I,!1)})}m(e,o),O()}export{N as I,k as b};
