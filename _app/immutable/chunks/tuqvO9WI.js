import{M as S,O as o,a1 as N,aU as D,a3 as C,a4 as O,a5 as U,T as q,S as A,L as F,a7 as p,ab as b,b6 as M,a8 as L,ag as Y,ah as R,U as x,b7 as H,aI as P,B as Z,ak as j,aB as w}from"./BhV4zVcd.js";function G(f,t,l=!1){o&&N();var s=f,e=null,a=null,r=M,d=l?D:0,c=!1;const _=(u,i=!0)=>{c=!0,k(i,u)};var n=null;function m(){n!==null&&(n.lastChild.remove(),s.before(n),n=null);var u=r?e:a,i=r?a:e;u&&Y(u),i&&R(i,()=>{r?a=null:e=null})}const k=(u,i)=>{if(r===(r=u))return;let T=!1;if(o){const B=C(s)===O;!!r===B&&(s=U(),q(s),A(!1),T=!0)}var g=L(),v=s;if(g&&(n=document.createDocumentFragment(),n.append(v=F())),r?e??=i&&p(()=>i(v)):a??=i&&p(()=>i(v)),g){var h=b,E=r?e:a,y=r?a:e;E&&h.skipped_effects.delete(E),y&&h.skipped_effects.add(y),h.add_callback(m)}else m();T&&A(!0)};S(()=>{c=!1,t(_),c||k(null,null)},d),o&&(s=x)}function J(f,t,l){o&&N();var s=f,e,a,r=null,d=null;function c(){a&&(R(a),a=null),r&&(r.lastChild.remove(),s.before(r),r=null),a=d,d=null}S(()=>{if(e!==(e=t())){var _=L();if(e){var n=s;_&&(r=document.createDocumentFragment(),r.append(n=F()),a&&b.skipped_effects.add(a)),d=p(()=>l(n,e))}_?b.add_callback(c):c()}},D),o&&(s=x)}function I(f,t){return f===t||f?.[w]===t}function K(f={},t,l,s){return H(()=>{var e,a;return P(()=>{e=a,a=[],Z(()=>{f!==l(...a)&&(t(f,...a),e&&I(l(...e),f)&&t(null,...e))})}),()=>{j(()=>{a&&I(l(...a),f)&&t(null,...a)})}}),f}export{K as b,J as c,G as i};
