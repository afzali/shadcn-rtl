import{aK as e,g as t,ae as n,aI as s,B as i,aL as a,ak as r,U as f,O as h,ac as c,aq as o,M as d,a1 as p,P as _,a4 as l,a7 as u,aM as g,ah as v,aE as m,aN as y,aO as b,aP as w,w as k,x as E,aQ as L,al as T,T as j,n as x,a5 as M,aR as V,aS as P,aT as S,aU as W,aV as $,R as q,aW as C,aX as N,V as O,Q,aY as R,S as U,aZ as B,ao as D,af as F,a_ as I,a$ as J,b0 as K,b1 as X,b2 as Y,L as Z,d as z,b3 as A,a6 as G,b4 as H,e as ee}from"./2wf1Aaj1.js";import{r as te}from"./TbyxGmvr.js";function ne(f){let h,c=0,o=n(0);return()=>{e()&&(t(o),s(()=>(0===c&&(h=i(()=>f(()=>a(o)))),c+=1,()=>{r(()=>{c-=1,0===c&&(h?.(),h=void 0,a(o))})})))}}var se=S|W|$;class ie{parent;#e=!1;#t;#n=h?f:null;#s;#i;#a;#r=null;#f=null;#h=null;#c=null;#o=0;#d=0;#p=!1;#_=null;#l=()=>{this.#_&&c(this.#_,this.#o)};#u=ne(()=>(this.#_=n(this.#o),()=>{this.#_=null}));constructor(e,t,n){this.#t=e,this.#s=t,this.#i=n,this.parent=o.b,this.#e=!!this.#s.pending,this.#a=d(()=>{if(o.b=this,h){const e=this.#n;p();e.nodeType===_&&e.data===l?this.#g():this.#v()}else{try{this.#r=u(()=>n(this.#t))}catch(e){this.error(e)}this.#d>0?this.#m():this.#e=!1}},se),h&&(this.#t=f)}#v(){try{this.#r=u(()=>this.#i(this.#t))}catch(e){this.error(e)}this.#e=!1}#g(){const e=this.#s.pending;e&&(this.#f=u(()=>e(this.#t)),g.enqueue(()=>{this.#r=this.#y(()=>(g.ensure(),u(()=>this.#i(this.#t)))),this.#d>0?this.#m():(v(this.#f,()=>{this.#f=null}),this.#e=!1)}))}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#y(e){var t=o,n=k,s=E;m(this.#a),y(this.#a),b(this.#a.ctx);try{return e()}catch(i){return w(i),null}finally{m(t),y(n),b(s)}}#m(){const e=this.#s.pending;null!==this.#r&&(this.#c=document.createDocumentFragment(),function(e,t){var n=e.nodes_start,s=e.nodes_end;for(;null!==n;){var i=n===s?null:q(n);t.append(n),n=i}}(this.#r,this.#c)),null===this.#f&&(this.#f=u(()=>e(this.#t)))}#b(e){this.has_pending_snippet()?(this.#d+=e,0===this.#d&&(this.#e=!1,this.#f&&v(this.#f,()=>{this.#f=null}),this.#c&&(this.#t.before(this.#c),this.#c=null),r(()=>{g.ensure().flush()}))):this.parent&&this.parent.#b(e)}update_pending_count(e){this.#b(e),this.#o+=e,L.add(this.#l)}get_effect_pending(){return this.#u(),t(this.#_)}error(e){var t=this.#s.onerror;let n=this.#s.failed;if(this.#p||!t&&!n)throw e;this.#r&&(T(this.#r),this.#r=null),this.#f&&(T(this.#f),this.#f=null),this.#h&&(T(this.#h),this.#h=null),h&&(j(this.#n),x(),j(M()));var s=!1,i=!1;const a=()=>{s?C():(s=!0,i&&P(),g.ensure(),this.#o=0,null!==this.#h&&v(this.#h,()=>{this.#h=null}),this.#e=this.has_pending_snippet(),this.#r=this.#y(()=>(this.#p=!1,u(()=>this.#i(this.#t)))),this.#d>0?this.#m():this.#e=!1)};var f=k;try{y(null),i=!0,t?.(e,a),i=!1}catch(c){V(c,this.#a&&this.#a.parent)}finally{y(f)}n&&r(()=>{this.#h=this.#y(()=>{this.#p=!0;try{return u(()=>{n(this.#t,()=>e,()=>a)})}catch(c){return V(c,this.#a.parent),null}finally{this.#p=!1}})})}}let ae=!0;function re(e){ae=e}function fe(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function he(e,t){return de(e,t)}function ce(e,t){N(),t.intro=t.intro??!1;const n=t.target,s=h,i=f;try{for(var a=O(n);a&&(a.nodeType!==_||a.data!==Q);)a=q(a);if(!a)throw R;U(!0),j(a);const s=de(e,{...t,anchor:a});return U(!1),s}catch(r){if(r instanceof Error&&r.message.split("\n").some(e=>e.startsWith("https://svelte.dev/e/")))throw r;return!1===t.recover&&B(),N(),D(n),U(!1),he(e,t)}finally{U(s),j(i),te()}}const oe=new Map;function de(e,{target:t,anchor:n,props:s={},events:i,context:a,intro:r=!0}){N();var c=new Set,d=e=>{for(var n=0;n<e.length;n++){var s=e[n];if(!c.has(s)){c.add(s);var i=Y(s);t.addEventListener(s,X,{passive:i});var a=oe.get(s);void 0===a?(document.addEventListener(s,X,{passive:i}),oe.set(s,1)):oe.set(s,a+1)}}};d(F(I)),J.add(d);var p=void 0,l=K(()=>{var l=n??t.appendChild(Z());return function(e,t,n){new ie(e,t,n)}(l,{pending:()=>{}},t=>{a&&(z({}),E.c=a);if(i&&(s.$$events=i),h&&A(t,null),ae=r,p=e(t,s)||{},ae=!0,h&&(o.nodes_end=f,null===f||f.nodeType!==_||f.data!==G))throw H(),R;a&&ee()}),()=>{for(var e of c){t.removeEventListener(e,X);var s=oe.get(e);0===--s?(document.removeEventListener(e,X),oe.delete(e)):oe.set(e,s)}J.delete(d),l!==n&&l.parentNode?.removeChild(l)}});return pe.set(p,l),p}let pe=new WeakMap;function _e(e,t){const n=pe.get(e);return n?(pe.delete(e),n(t)):Promise.resolve()}export{re as a,ae as b,ne as c,ce as h,he as m,fe as s,_e as u};
