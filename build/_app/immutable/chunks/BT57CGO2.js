import"./Cm9PB-7n.js";import{h as t,g as e,j as s,u as n,X as o,bc as r,ar as i,d as a,i as p,b as h,a as c,e as d,k as l,f as u,c as f,l as g,r as m}from"./2wf1Aaj1.js";import{i as b,c as v}from"./B8dcjSjv.js";import{p as $,r as y,s as w}from"./Pna8C8of.js";import{b as C}from"./CY9W8SNi.js";import{a as k,b as N,f as D,u as O,e as j,h as P,c as F,m as I}from"./Eys-yhWv.js";import{w as M,n as A}from"./BgwdPspx.js";import{C as U,S,E as x}from"./Dxq41yds.js";import{O as q,l as B,m as R}from"./CGuQb2bv.js";const E=j({component:"collapsible",parts:["root","content","trigger"]}),J=new U("Collapsible.Root");class L{static create(t){return J.set(new L(t))}opts;attachment;#t=t(null);get contentNode(){return e(this.#t)}set contentNode(t){s(this.#t,t,!0)}#e=t(void 0);get contentId(){return e(this.#e)}set contentId(t){s(this.#e,t,!0)}constructor(t){this.opts=t,this.toggleOpen=this.toggleOpen.bind(this),this.attachment=k(this.opts.ref),new q({ref:N(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}toggleOpen(){this.opts.open.current=!this.opts.open.current}#s=n(()=>({id:this.opts.id.current,"data-state":O(this.opts.open.current),"data-disabled":D(this.opts.disabled.current),[E.root]:"",...this.attachment}));get props(){return e(this.#s)}set props(t){s(this.#s,t)}}class X{static create(t){return new X(t,J.get())}opts;root;attachment;#n=n(()=>this.opts.hiddenUntilFound.current?this.root.opts.open.current:this.opts.forceMount.current||this.root.opts.open.current);get present(){return e(this.#n)}set present(t){s(this.#n,t)}#o;#r=t(!1);#i=t(0);#a=t(0);constructor(t,n){this.opts=t,this.root=n,s(this.#r,n.opts.open.current,!0),this.root.contentId=this.opts.id.current,this.attachment=k(this.opts.ref,t=>this.root.contentNode=t),M.pre(()=>this.opts.id.current,t=>{this.root.contentId=t}),o(()=>{const t=requestAnimationFrame(()=>{s(this.#r,!1)});return()=>{cancelAnimationFrame(t)}}),M.pre([()=>this.opts.ref.current,()=>this.opts.hiddenUntilFound.current],([t,e])=>{if(!t||!e)return;return r(t,"beforematch",()=>{this.root.opts.open.current||requestAnimationFrame(()=>{this.root.opts.open.current=!0})})}),M([()=>this.opts.ref.current,()=>this.present],([t])=>{t&&B(()=>{if(!this.opts.ref.current)return;this.#o=this.#o||{transitionDuration:t.style.transitionDuration,animationName:t.style.animationName},t.style.transitionDuration="0s",t.style.animationName="none";const n=t.getBoundingClientRect();if(s(this.#a,n.height,!0),s(this.#i,n.width,!0),!e(this.#r)){const{animationName:e,transitionDuration:s}=this.#o;t.style.transitionDuration=s,t.style.animationName=e}})})}#p=n(()=>({open:this.root.opts.open.current}));get snippetProps(){return e(this.#p)}set snippetProps(t){s(this.#p,t)}#s=n(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":e(this.#a)?`${e(this.#a)}px`:void 0,"--bits-collapsible-content-width":e(this.#i)?`${e(this.#i)}px`:void 0},hidden:this.opts.hiddenUntilFound.current&&!this.root.opts.open.current?"until-found":void 0,"data-state":O(this.root.opts.open.current),"data-disabled":D(this.root.opts.disabled.current),[E.content]:"",...this.attachment}));get props(){return e(this.#s)}set props(t){s(this.#s,t)}}class z{static create(t){return new z(t,J.get())}opts;root;attachment;#h=n(()=>this.opts.disabled.current||this.root.opts.disabled.current);constructor(t,e){this.opts=t,this.root=e,this.attachment=k(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){if(!e(this.#h))return 0!==t.button?t.preventDefault():void this.root.toggleOpen()}onkeydown(t){e(this.#h)||t.key!==S&&t.key!==x||(t.preventDefault(),this.root.toggleOpen())}#s=n(()=>({id:this.opts.id.current,type:"button",disabled:e(this.#h),"aria-controls":this.root.contentId,"aria-expanded":P(this.root.opts.open.current),"data-state":O(this.root.opts.open.current),"data-disabled":D(e(this.#h)),[E.trigger]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return e(this.#s)}set props(t){s(this.#s,t)}}var G=u("<div><!></div>");function H(t,s){const o=i();a(s,!0);let r=$(s,"id",19,()=>F(o)),u=$(s,"ref",15,null),v=$(s,"open",15,!1),w=$(s,"disabled",3,!1),k=$(s,"onOpenChange",3,A),D=$(s,"onOpenChangeComplete",3,A),O=y(s,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange","onOpenChangeComplete"]);const j=L.create({open:N(()=>v(),t=>{v(t),k()(t)}),disabled:N(()=>w()),id:N(()=>r()),ref:N(()=>u(),t=>u(t)),onOpenChangeComplete:N(()=>D())}),P=n(()=>I(O,j.props));var M=p(),U=h(M),S=t=>{var n=p(),o=h(n);l(o,()=>s.child,()=>({props:e(P)})),c(t,n)},x=t=>{var n=G();C(n,()=>({...e(P)}));var o=f(n);l(o,()=>s.children??g),m(n),c(t,n)};b(U,t=>{s.child?t(S):t(x,!1)}),c(t,M),d()}var K=u("<div><!></div>");function Q(t,s){const o=i();a(s,!0);let r=$(s,"ref",15,null),u=$(s,"forceMount",3,!1),v=$(s,"hiddenUntilFound",3,!1),w=$(s,"id",19,()=>F(o)),k=y(s,["$$slots","$$events","$$legacy","child","ref","forceMount","hiddenUntilFound","children","id"]);const D=X.create({id:N(()=>w()),forceMount:N(()=>u()),hiddenUntilFound:N(()=>v()),ref:N(()=>r(),t=>r(t))});{const o=(t,o)=>{let r=()=>o?.().present;const i=n(()=>I(k,D.props,v()&&!r()?{}:{hidden:v()?!r():u()?void 0:!r()}));var a=p(),d=h(a),$=t=>{var o=p(),r=h(o);{let t=n(()=>({...D.snippetProps,props:e(i)}));l(r,()=>s.child,()=>e(t))}c(t,o)},y=t=>{var n=K();C(n,()=>({...e(i)}));var o=f(n);l(o,()=>s.children??g),m(n),c(t,n)};b(d,t=>{s.child?t($):t(y,!1)}),c(t,a)};R(t,{forceMount:!0,get open(){return D.present},get ref(){return D.opts.ref},presence:o,$$slots:{presence:!0}})}d()}var T=u("<button><!></button>");function V(t,s){const o=i();a(s,!0);let r=$(s,"ref",15,null),u=$(s,"id",19,()=>F(o)),v=$(s,"disabled",3,!1),w=y(s,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const k=z.create({id:N(()=>u()),ref:N(()=>r(),t=>r(t)),disabled:N(()=>v())}),D=n(()=>I(w,k.props));var O=p(),j=h(O),P=t=>{var n=p(),o=h(n);l(o,()=>s.child,()=>({props:e(D)})),c(t,n)},M=t=>{var n=T();C(n,()=>({...e(D)}));var o=f(n);l(o,()=>s.children??g),m(n),c(t,n)};b(j,t=>{s.child?t(P):t(M,!1)}),c(t,O),d()}function W(t,e){a(e,!0);let s=$(e,"ref",15,null),n=$(e,"open",15,!1),o=y(e,["$$slots","$$events","$$legacy","ref","open"]);var r=p(),i=h(r);v(i,()=>H,(t,e)=>{e(t,w({"data-slot":"collapsible"},()=>o,{get ref(){return s()},set ref(t){s(t)},get open(){return n()},set open(t){n(t)}}))}),c(t,r),d()}function Y(t,e){a(e,!0);let s=$(e,"ref",15,null),n=y(e,["$$slots","$$events","$$legacy","ref"]);var o=p(),r=h(o);v(r,()=>V,(t,e)=>{e(t,w({"data-slot":"collapsible-trigger"},()=>n,{get ref(){return s()},set ref(t){s(t)}}))}),c(t,o),d()}function Z(t,e){a(e,!0);let s=$(e,"ref",15,null),n=y(e,["$$slots","$$events","$$legacy","ref"]);var o=p(),r=h(o);v(r,()=>Q,(t,e)=>{e(t,w({"data-slot":"collapsible-content"},()=>n,{get ref(){return s()},set ref(t){s(t)}}))}),c(t,o),d()}export{W as C,Y as a,Z as b};
