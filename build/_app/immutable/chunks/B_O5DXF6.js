import{h as S,p as w,j as T,g as N,H as C,G as p,I as v}from"./BhV4zVcd.js";import{n as P,B as I,o as R,b as O,p as K,t as W,q as B,r as D}from"./Bya0hm2E.js";function r(e){let t=S(w(e));return{[I]:!0,[P]:!0,get current(){return N(t)},set current(n){T(t,n,!0)}}}r.from=R;r.with=O;r.flatten=K;r.readonly=W;r.isBox=B;r.isWritableBox=D;class ${#t;#e;constructor(t){this.#t=t,this.#e=Symbol(t)}get key(){return this.#e}exists(){return C(this.#e)}get(){const t=p(this.#e);if(t===void 0)throw new Error(`Context "${this.#t}" not found`);return t}getOr(t){const n=p(this.#e);return n===void 0?t:n}set(t){return v(this.#e,t)}}const l="ArrowDown",f="ArrowLeft",h="ArrowRight",d="ArrowUp",F="End",j="Enter",J="Escape",H="Home",Q="PageDown",X="PageUp",Y=" ",Z="Tab";function z(e){return window.getComputedStyle(e).getPropertyValue("direction")}function G(e="ltr",t="horizontal"){return{horizontal:e==="rtl"?f:h,vertical:l}[t]}function _(e="ltr",t="horizontal"){return{horizontal:e==="rtl"?h:f,vertical:d}[t]}function k(e="ltr",t="horizontal"){return["ltr","rtl"].includes(e)||(e="ltr"),["horizontal","vertical"].includes(t)||(t="horizontal"),{nextKey:G(e,t),prevKey:_(e,t)}}const L=typeof document<"u",tt=M();function M(){return L&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function q(e){return e instanceof HTMLElement}function et(e){return e instanceof Element}function nt(e){return e instanceof Element||e instanceof SVGElement}function rt(e){return e.pointerType==="touch"}function ot(e){return e.matches(":focus-visible")}function st(e){return e!==null}function it(e){return e instanceof HTMLInputElement&&"select"in e}class at{#t;#e=r(null);constructor(t){this.#t=t}getCandidateNodes(){return this.#t.rootNode.current?this.#t.candidateSelector?Array.from(this.#t.rootNode.current.querySelectorAll(this.#t.candidateSelector)):this.#t.candidateAttr?Array.from(this.#t.rootNode.current.querySelectorAll(`[${this.#t.candidateAttr}]:not([data-disabled])`)):[]:[]}focusFirstCandidate(){const t=this.getCandidateNodes();t.length&&t[0]?.focus()}handleKeydown(t,n,c=!1){const g=this.#t.rootNode.current;if(!g||!t)return;const o=this.getCandidateNodes();if(!o.length)return;const a=o.indexOf(t),E=z(g),{nextKey:y,prevKey:m}=k(E,this.#t.orientation.current),x=this.#t.loop.current,u={[y]:a+1,[m]:a-1,[H]:0,[F]:o.length-1};if(c){const A=y===l?h:l,b=m===d?f:d;u[A]=a+1,u[b]=a-1}let s=u[n.key];if(s===void 0)return;n.preventDefault(),s<0&&x?s=o.length-1:s===o.length&&x&&(s=0);const i=o[s];if(i)return i.focus(),this.#e.current=i.id,this.#t.onCandidateFocus?.(i),i}getTabIndex(t){const n=this.getCandidateNodes(),c=this.#e.current!==null;return t&&!c&&n[0]===t?(this.#e.current=t.id,0):t?.id===this.#e.current?0:-1}setCurrentTabStopId(t){this.#e.current=t}focusCurrentTabStop(){const t=this.#e.current;if(!t)return;const n=this.#t.rootNode.current?.querySelector(`#${t}`);!n||!q(n)||n.focus()}}export{l as A,$ as C,j as E,H,X as P,at as R,Y as S,Z as T,L as a,q as b,d as c,f as d,h as e,Q as f,F as g,tt as h,et as i,it as j,nt as k,J as l,st as m,ot as n,rt as o};
