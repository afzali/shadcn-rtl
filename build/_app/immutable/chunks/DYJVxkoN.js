import"./DsnmJJEf.js";import{h as U,g as n,j as b,u as C,X as nt,bc as rt,ar as E,d as D,i as y,b as O,a as u,e as M,k as N,f as R,c as B,l as T,r as q}from"./BhV4zVcd.js";import{i as j,c as W}from"./tuqvO9WI.js";import{p as i,r as A,s as X}from"./wyqmu6xp.js";import{b as z}from"./xUN7p0v8.js";import{a as G,b as h,f as H,u as J,e as st,h as ot,c as K,m as L}from"./Bya0hm2E.js";import{w as I,n as tt}from"./fQonjguN.js";import{C as it,S as at,E as lt}from"./B_O5DXF6.js";import{O as ct,l as dt,m as ht}from"./BlK6YOHi.js";const Q=st({component:"collapsible",parts:["root","content","trigger"]}),V=new it("Collapsible.Root");class Y{static create(t){return V.set(new Y(t))}opts;attachment;#t=U(null);get contentNode(){return n(this.#t)}set contentNode(t){b(this.#t,t,!0)}#e=U(void 0);get contentId(){return n(this.#e)}set contentId(t){b(this.#e,t,!0)}constructor(t){this.opts=t,this.toggleOpen=this.toggleOpen.bind(this),this.attachment=G(this.opts.ref),new ct({ref:h(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}toggleOpen(){this.opts.open.current=!this.opts.open.current}#n=C(()=>({id:this.opts.id.current,"data-state":J(this.opts.open.current),"data-disabled":H(this.opts.disabled.current),[Q.root]:"",...this.attachment}));get props(){return n(this.#n)}set props(t){b(this.#n,t)}}class Z{static create(t){return new Z(t,V.get())}opts;root;attachment;#t=C(()=>this.opts.hiddenUntilFound.current?this.root.opts.open.current:this.opts.forceMount.current||this.root.opts.open.current);get present(){return n(this.#t)}set present(t){b(this.#t,t)}#e;#n=U(!1);#r=U(0);#s=U(0);constructor(t,s){this.opts=t,this.root=s,b(this.#n,s.opts.open.current,!0),this.root.contentId=this.opts.id.current,this.attachment=G(this.opts.ref,e=>this.root.contentNode=e),I.pre(()=>this.opts.id.current,e=>{this.root.contentId=e}),nt(()=>{const e=requestAnimationFrame(()=>{b(this.#n,!1)});return()=>{cancelAnimationFrame(e)}}),I.pre([()=>this.opts.ref.current,()=>this.opts.hiddenUntilFound.current],([e,r])=>!e||!r?void 0:rt(e,"beforematch",()=>{this.root.opts.open.current||requestAnimationFrame(()=>{this.root.opts.open.current=!0})})),I([()=>this.opts.ref.current,()=>this.present],([e])=>{e&&dt(()=>{if(!this.opts.ref.current)return;this.#e=this.#e||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const r=e.getBoundingClientRect();if(b(this.#s,r.height,!0),b(this.#r,r.width,!0),!n(this.#n)){const{animationName:o,transitionDuration:l}=this.#e;e.style.transitionDuration=l,e.style.animationName=o}})})}#o=C(()=>({open:this.root.opts.open.current}));get snippetProps(){return n(this.#o)}set snippetProps(t){b(this.#o,t)}#i=C(()=>({id:this.opts.id.current,style:{"--bits-collapsible-content-height":n(this.#s)?`${n(this.#s)}px`:void 0,"--bits-collapsible-content-width":n(this.#r)?`${n(this.#r)}px`:void 0},hidden:this.opts.hiddenUntilFound.current&&!this.root.opts.open.current?"until-found":void 0,"data-state":J(this.root.opts.open.current),"data-disabled":H(this.root.opts.disabled.current),[Q.content]:"",...this.attachment}));get props(){return n(this.#i)}set props(t){b(this.#i,t)}}class ${static create(t){return new $(t,V.get())}opts;root;attachment;#t=C(()=>this.opts.disabled.current||this.root.opts.disabled.current);constructor(t,s){this.opts=t,this.root=s,this.attachment=G(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){if(!n(this.#t)){if(t.button!==0)return t.preventDefault();this.root.toggleOpen()}}onkeydown(t){n(this.#t)||(t.key===at||t.key===lt)&&(t.preventDefault(),this.root.toggleOpen())}#e=C(()=>({id:this.opts.id.current,type:"button",disabled:n(this.#t),"aria-controls":this.root.contentId,"aria-expanded":ot(this.root.opts.open.current),"data-state":J(this.root.opts.open.current),"data-disabled":H(n(this.#t)),[Q.trigger]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return n(this.#e)}set props(t){b(this.#e,t)}}var pt=R("<div><!></div>");function ut(f,t){const s=E();D(t,!0);let e=i(t,"id",19,()=>K(s)),r=i(t,"ref",15,null),o=i(t,"open",15,!1),l=i(t,"disabled",3,!1),g=i(t,"onOpenChange",3,tt),a=i(t,"onOpenChangeComplete",3,tt),m=A(t,["$$slots","$$events","$$legacy","children","child","id","ref","open","disabled","onOpenChange","onOpenChangeComplete"]);const S=Y.create({open:h(()=>o(),d=>{o(d),g()(d)}),disabled:h(()=>l()),id:h(()=>e()),ref:h(()=>r(),d=>r(d)),onOpenChangeComplete:h(()=>a())}),F=C(()=>L(m,S.props));var P=y(),c=O(P);{var p=d=>{var _=y(),v=O(_);N(v,()=>t.child,()=>({props:n(F)})),u(d,_)},k=d=>{var _=pt();z(_,()=>({...n(F)}));var v=B(_);N(v,()=>t.children??T),q(_),u(d,_)};j(c,d=>{t.child?d(p):d(k,!1)})}u(f,P),M()}var ft=R("<div><!></div>");function gt(f,t){const s=E();D(t,!0);let e=i(t,"ref",15,null),r=i(t,"forceMount",3,!1),o=i(t,"hiddenUntilFound",3,!1),l=i(t,"id",19,()=>K(s)),g=A(t,["$$slots","$$events","$$legacy","child","ref","forceMount","hiddenUntilFound","children","id"]);const a=Z.create({id:h(()=>l()),forceMount:h(()=>r()),hiddenUntilFound:h(()=>o()),ref:h(()=>e(),m=>e(m))});ht(f,{forceMount:!0,get open(){return a.present},get ref(){return a.opts.ref},presence:(S,F)=>{let P=()=>F?.().present;const c=C(()=>L(g,a.props,o()&&!P()?{}:{hidden:o()?!P():r()?void 0:!P()}));var p=y(),k=O(p);{var d=v=>{var w=y(),x=O(w);{let et=C(()=>({...a.snippetProps,props:n(c)}));N(x,()=>t.child,()=>n(et))}u(v,w)},_=v=>{var w=ft();z(w,()=>({...n(c)}));var x=B(w);N(x,()=>t.children??T),q(w),u(v,w)};j(k,v=>{t.child?v(d):v(_,!1)})}u(S,p)},$$slots:{presence:!0}}),M()}var mt=R("<button><!></button>");function bt(f,t){const s=E();D(t,!0);let e=i(t,"ref",15,null),r=i(t,"id",19,()=>K(s)),o=i(t,"disabled",3,!1),l=A(t,["$$slots","$$events","$$legacy","children","child","ref","id","disabled"]);const g=$.create({id:h(()=>r()),ref:h(()=>e(),c=>e(c)),disabled:h(()=>o())}),a=C(()=>L(l,g.props));var m=y(),S=O(m);{var F=c=>{var p=y(),k=O(p);N(k,()=>t.child,()=>({props:n(a)})),u(c,p)},P=c=>{var p=mt();z(p,()=>({...n(a)}));var k=B(p);N(k,()=>t.children??T),q(p),u(c,p)};j(S,c=>{t.child?c(F):c(P,!1)})}u(f,m),M()}function Nt(f,t){D(t,!0);let s=i(t,"ref",15,null),e=i(t,"open",15,!1),r=A(t,["$$slots","$$events","$$legacy","ref","open"]);var o=y(),l=O(o);W(l,()=>ut,(g,a)=>{a(g,X({"data-slot":"collapsible"},()=>r,{get ref(){return s()},set ref(m){s(m)},get open(){return e()},set open(m){e(m)}}))}),u(f,o),M()}function Dt(f,t){D(t,!0);let s=i(t,"ref",15,null),e=A(t,["$$slots","$$events","$$legacy","ref"]);var r=y(),o=O(r);W(o,()=>bt,(l,g)=>{g(l,X({"data-slot":"collapsible-trigger"},()=>e,{get ref(){return s()},set ref(a){s(a)}}))}),u(f,r),M()}function Mt(f,t){D(t,!0);let s=i(t,"ref",15,null),e=A(t,["$$slots","$$events","$$legacy","ref"]);var r=y(),o=O(r);W(o,()=>gt,(l,g)=>{g(l,X({"data-slot":"collapsible-content"},()=>e,{get ref(){return s()},set ref(a){s(a)}}))}),u(f,r),M()}export{Nt as C,Dt as a,Mt as b};
