import"./Cm9PB-7n.js";import{h as t,g as e,j as o,u as r,ar as s,d as n,i as p,b as i,a,e as c,k as d,f as l,c as u,l as h,r as g}from"./2wf1Aaj1.js";import{i as f,c as m}from"./B8dcjSjv.js";import{p as v,s as $,r as y}from"./Pna8C8of.js";import{c as b}from"./BVT9qnas.js";import{b as w}from"./CY9W8SNi.js";import{O as P,g as C,h as O,i as N,k as A,F as k,P as j}from"./CGuQb2bv.js";import{n as E}from"./BgwdPspx.js";import{b as F,a as I,u as K,h as S,e as x,c as M,m as z}from"./Eys-yhWv.js";import{c as B}from"./C2y8RU1y.js";import{C as R,E as q,S as D,i as J}from"./Dxq41yds.js";const L=x({component:"popover",parts:["root","trigger","content","close"]}),U=new R("Popover.Root");class Y{static create(t){return U.set(new Y(t))}opts;#t=t(null);get contentNode(){return e(this.#t)}set contentNode(t){o(this.#t,t,!0)}#e=t(null);get triggerNode(){return e(this.#e)}set triggerNode(t){o(this.#e,t,!0)}constructor(t){this.opts=t,new P({ref:F(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}class G{static create(t){return new G(t,U.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=I(this.opts.ref,t=>this.root.triggerNode=t),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||0===t.button&&this.root.toggleOpen()}onkeydown(t){this.opts.disabled.current||t.key!==q&&t.key!==D||(t.preventDefault(),this.root.toggleOpen())}#o(){if(this.root.opts.open.current&&this.root.contentNode?.id)return this.root.contentNode?.id}#r=r(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":S(this.root.opts.open.current),"data-state":K(this.root.opts.open.current),"aria-controls":this.#o(),[L.trigger]:"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick,...this.attachment}));get props(){return e(this.#r)}set props(t){o(this.#r,t)}}class H{static create(t){return new H(t,U.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=I(this.opts.ref,t=>this.root.contentNode=t)}onInteractOutside=t=>{if(this.opts.onInteractOutside.current(t),t.defaultPrevented)return;if(!J(t.target))return;const e=t.target.closest(L.selector("trigger"));if(!e||e!==this.root.triggerNode){if(this.opts.customAnchor.current)if(J(this.opts.customAnchor.current)){if(this.opts.customAnchor.current.contains(t.target))return}else if("string"==typeof this.opts.customAnchor.current){const e=document.querySelector(this.opts.customAnchor.current);if(e&&e.contains(t.target))return}this.root.handleClose()}};onEscapeKeydown=t=>{this.opts.onEscapeKeydown.current(t),t.defaultPrevented||this.root.handleClose()};#s=r(()=>({open:this.root.opts.open.current}));get snippetProps(){return e(this.#s)}set snippetProps(t){o(this.#s,t)}#r=r(()=>({id:this.opts.id.current,tabindex:-1,"data-state":K(this.root.opts.open.current),[L.content]:"",style:{pointerEvents:"auto"},...this.attachment}));get props(){return e(this.#r)}set props(t){o(this.#r,t)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown}}var Q=l("<div><div><!></div></div>"),T=l("<div><div><!></div></div>");function V(t,o){const l=s();n(o,!0);let m=v(o,"ref",15,null),b=v(o,"id",19,()=>M(l)),P=v(o,"forceMount",3,!1),A=v(o,"onCloseAutoFocus",3,E),k=v(o,"onEscapeKeydown",3,E),j=v(o,"onInteractOutside",3,E),I=v(o,"trapFocus",3,!0),K=v(o,"preventScroll",3,!1),S=v(o,"customAnchor",3,null),x=y(o,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","customAnchor"]);const B=H.create({id:F(()=>b()),ref:F(()=>m(),t=>m(t)),onInteractOutside:F(()=>j()),onEscapeKeydown:F(()=>k()),customAnchor:F(()=>S())}),R=r(()=>z(x,B.props));var q=p(),D=i(q),J=t=>{{const s=(t,s)=>{let n=()=>s?.().wrapperProps;const c=r(()=>z(s?.().props,{style:N("popover")}));var l=p(),m=i(l),v=t=>{var s=p(),l=i(s);{let t=r(()=>({props:e(c),wrapperProps:n(),...B.snippetProps}));d(l,()=>o.child,()=>e(t))}a(t,s)},$=t=>{var r=Q();w(r,()=>({...n()}));var s=u(r);w(s,()=>({...e(c)}));var p=u(s);d(p,()=>o.children??h),g(s),g(r),a(t,r)};f(m,t=>{o.child?t(v):t($,!1)}),a(t,l)};C(t,$(()=>e(R),()=>B.popperProps,{get ref(){return B.opts.ref},get enabled(){return B.root.opts.open.current},get id(){return b()},get trapFocus(){return I()},get preventScroll(){return K()},loop:!0,forceMount:!0,get customAnchor(){return S()},get onCloseAutoFocus(){return A()},popper:s,$$slots:{popper:!0}}))}},L=t=>{var s=p(),n=i(s),c=t=>{{const s=(t,s)=>{let n=()=>s?.().wrapperProps;const c=r(()=>z(s?.().props,{style:N("popover")}));var l=p(),m=i(l),v=t=>{var s=p(),l=i(s);{let t=r(()=>({props:e(c),wrapperProps:n(),...B.snippetProps}));d(l,()=>o.child,()=>e(t))}a(t,s)},$=t=>{var r=T();w(r,()=>({...n()}));var s=u(r);w(s,()=>({...e(c)}));var p=u(s);d(p,()=>o.children??h),g(s),g(r),a(t,r)};f(m,t=>{o.child?t(v):t($,!1)}),a(t,l)};O(t,$(()=>e(R),()=>B.popperProps,{get ref(){return B.opts.ref},get open(){return B.root.opts.open.current},get id(){return b()},get trapFocus(){return I()},get preventScroll(){return K()},loop:!0,forceMount:!1,get customAnchor(){return S()},get onCloseAutoFocus(){return A()},popper:s,$$slots:{popper:!0}}))}};f(n,t=>{P()||t(c)},!0),a(t,s)};f(D,t=>{P()?t(J):t(L,!1)}),a(t,q),c()}var W=l("<button><!></button>");function X(t,o){const l=s();n(o,!0);let m=v(o,"id",19,()=>M(l)),$=v(o,"ref",15,null),b=v(o,"type",3,"button"),P=v(o,"disabled",3,!1),C=y(o,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const O=G.create({id:F(()=>m()),ref:F(()=>$(),t=>$(t)),disabled:F(()=>Boolean(P()))}),N=r(()=>z(C,O.props,{type:b()}));A(t,{get id(){return m()},get ref(){return O.opts.ref},children:(t,r)=>{var s=p(),n=i(s),c=t=>{var r=p(),s=i(r);d(s,()=>o.child,()=>({props:e(N)})),a(t,r)},l=t=>{var r=W();w(r,()=>({...e(N)}));var s=u(r);d(s,()=>o.children??h),g(r),a(t,r)};f(n,t=>{o.child?t(c):t(l,!1)}),a(t,s)},$$slots:{default:!0}}),c()}function Z(t,o){n(o,!0);let s=v(o,"ref",15,null),d=v(o,"sideOffset",3,4),l=v(o,"align",3,"center"),u=y(o,["$$slots","$$events","$$legacy","ref","class","sideOffset","align","portalProps"]);var h=p(),g=i(h);m(g,()=>j,(t,n)=>{n(t,$(()=>o.portalProps,{children:(t,n)=>{var c=p(),h=i(c);{let t=r(()=>b("bg-popover text-popover-foreground text-right dir-rtl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--bits-popover-content-transform-origin) outline-hidden z-50 w-72 rounded-md border p-4 shadow-md",o.class));m(h,()=>V,(o,r)=>{r(o,$({"data-slot":"popover-content",dir:"rtl",get sideOffset(){return d()},get align(){return l()},get class(){return e(t)}},()=>u,{get ref(){return s()},set ref(t){s(t)}}))})}a(t,c)},$$slots:{default:!0}}))}),a(t,h),c()}function _(t,o){let s=y(o,["$$slots","$$events","$$legacy"]);!function(t,o){n(o,!0);let s=v(o,"ref",15,null),d=y(o,["$$slots","$$events","$$legacy","ref","class"]);var l=p(),u=i(l);{let t=r(()=>B("",o.class));m(u,()=>X,(o,r)=>{r(o,$({"data-slot":"popover-trigger",get class(){return e(t)}},()=>d,{get ref(){return s()},set ref(t){s(t)}}))})}a(t,l),c()}(t,$(()=>s))}const tt=function(t,e){n(e,!0);let o=v(e,"open",15,!1),r=v(e,"onOpenChange",3,E),s=v(e,"onOpenChangeComplete",3,E);Y.create({open:F(()=>o(),t=>{o(t),r()(t)}),onOpenChangeComplete:F(()=>s())}),k(t,{children:(t,o)=>{var r=p(),s=i(r);d(s,()=>e.children??h),a(t,r)},$$slots:{default:!0}}),c()};export{_ as P,tt as R,Z as a};
