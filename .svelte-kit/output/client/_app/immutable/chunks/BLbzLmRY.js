import"./DsnmJJEf.js";import{u as _,g as f,j as M,ar as R,d as A,i as b,b as x,a as u,e as P,k,f as O,c as z,l as T,r as j,bu as Q}from"./BhV4zVcd.js";import{b as D}from"./xUN7p0v8.js";import{i as L,b as U,c as q}from"./tuqvO9WI.js";import{p as l,r as S,s as w}from"./wyqmu6xp.js";import{c as V}from"./GklmFB9z.js";import{c as B}from"./BVwZMugY.js";import{a as W,e as X,c as E,b as y,m as F}from"./Bya0hm2E.js";import{w as Y}from"./fQonjguN.js";import{C as Z}from"./B_O5DXF6.js";import{D as $}from"./Bk28lIIc.js";const G=X({component:"avatar",parts:["root","image","fallback"]}),H=new Z("Avatar.Root");class J{static create(t){return H.set(new J(t))}opts;domContext;attachment;constructor(t){this.opts=t,this.domContext=new $(this.opts.ref),this.loadImage=this.loadImage.bind(this),this.attachment=W(this.opts.ref)}loadImage(t,e,s){if(this.opts.loadingStatus.current==="loaded")return;let r;const o=new Image;return o.src=t,e!==void 0&&(o.crossOrigin=e),s&&(o.referrerPolicy=s),this.opts.loadingStatus.current="loading",o.onload=()=>{r=this.domContext.setTimeout(()=>{this.opts.loadingStatus.current="loaded"},this.opts.delayMs.current)},o.onerror=()=>{this.opts.loadingStatus.current="error"},()=>{r&&this.domContext.clearTimeout(r)}}#t=_(()=>({id:this.opts.id.current,[G.root]:"","data-status":this.opts.loadingStatus.current,...this.attachment}));get props(){return f(this.#t)}set props(t){M(this.#t,t)}}class K{static create(t){return new K(t,H.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=W(this.opts.ref),Y.pre([()=>this.opts.src.current,()=>this.opts.crossOrigin.current],([s,r])=>{if(!s){this.root.opts.loadingStatus.current="error";return}this.root.loadImage(s,r,this.opts.referrerPolicy.current)})}#t=_(()=>({id:this.opts.id.current,style:{display:this.root.opts.loadingStatus.current==="loaded"?"block":"none"},"data-status":this.root.opts.loadingStatus.current,[G.image]:"",src:this.opts.src.current,crossorigin:this.opts.crossOrigin.current,referrerpolicy:this.opts.referrerPolicy.current,...this.attachment}));get props(){return f(this.#t)}set props(t){M(this.#t,t)}}class N{static create(t){return new N(t,H.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=W(this.opts.ref)}#t=_(()=>this.root.opts.loadingStatus.current==="loaded"?{display:"none"}:void 0);get style(){return f(this.#t)}set style(t){M(this.#t,t)}#e=_(()=>({style:this.style,"data-status":this.root.opts.loadingStatus.current,[G.fallback]:"",...this.attachment}));get props(){return f(this.#e)}set props(t){M(this.#e,t)}}var tt=O("<div><!></div>");function et(i,t){const e=R();A(t,!0);let s=l(t,"delayMs",3,0),r=l(t,"loadingStatus",15,"loading"),o=l(t,"id",19,()=>E(e)),n=l(t,"ref",15,null),g=S(t,["$$slots","$$events","$$legacy","delayMs","loadingStatus","onLoadingStatusChange","child","children","id","ref"]);const h=J.create({delayMs:y(()=>s()),loadingStatus:y(()=>r(),a=>{r()!==a&&(r(a),t.onLoadingStatusChange?.(a))}),id:y(()=>o()),ref:y(()=>n(),a=>n(a))}),d=_(()=>F(g,h.props));var v=b(),C=x(v);{var m=a=>{var c=b(),I=x(c);k(I,()=>t.child,()=>({props:f(d)})),u(a,c)},p=a=>{var c=tt();D(c,()=>({...f(d)}));var I=z(c);k(I,()=>t.children??T),j(c),u(a,c)};L(C,a=>{t.child?a(m):a(p,!1)})}u(i,v),P()}var rt=O("<img/>");function at(i,t){const e=R();A(t,!0);let s=l(t,"id",19,()=>E(e)),r=l(t,"ref",15,null),o=l(t,"crossorigin",3,void 0),n=l(t,"referrerpolicy",3,void 0),g=S(t,["$$slots","$$events","$$legacy","src","child","id","ref","crossorigin","referrerpolicy"]);const h=K.create({src:y(()=>t.src),id:y(()=>s()),ref:y(()=>r(),a=>r(a)),crossOrigin:y(()=>o()),referrerPolicy:y(()=>n())}),d=_(()=>F(g,h.props));var v=b(),C=x(v);{var m=a=>{var c=b(),I=x(c);k(I,()=>t.child,()=>({props:f(d)})),u(a,c)},p=a=>{var c=rt();D(c,()=>({...f(d),src:t.src})),Q(c),u(a,c)};L(C,a=>{t.child?a(m):a(p,!1)})}u(i,v),P()}var st=O("<span><!></span>");function ot(i,t){const e=R();A(t,!0);let s=l(t,"id",19,()=>E(e)),r=l(t,"ref",15,null),o=S(t,["$$slots","$$events","$$legacy","children","child","id","ref"]);const n=N.create({id:y(()=>s()),ref:y(()=>r(),m=>r(m))}),g=_(()=>F(o,n.props));var h=b(),d=x(h);{var v=m=>{var p=b(),a=x(p);k(a,()=>t.child,()=>({props:f(g)})),u(m,p)},C=m=>{var p=st();D(p,()=>({...f(g)}));var a=z(p);k(a,()=>t.children??T),j(p),u(m,p)};L(d,m=>{t.child?m(v):m(C,!1)})}u(i,h),P()}var it=O("<div><!></div>");function bt(i,t){A(t,!0);let e=l(t,"ref",15,null),s=S(t,["$$slots","$$events","$$legacy","ref","class","inset","children"]);var r=it();D(r,n=>({"data-slot":"dropdown-menu-label","data-inset":t.inset,class:n,...s}),[()=>V("px-2 py-1.5 text-sm font-semibold text-right data-[inset]:pr-8",t.class)]);var o=z(r);k(o,()=>t.children??T),j(r),U(r,n=>e(n),()=>e()),u(i,r),P()}function nt(i,t){A(t,!0);let e=l(t,"ref",15,null),s=l(t,"loadingStatus",15,"loading"),r=S(t,["$$slots","$$events","$$legacy","ref","loadingStatus","class"]);var o=b(),n=x(o);{let g=_(()=>B("relative flex size-8 shrink-0 overflow-hidden rounded-full",t.class));q(n,()=>et,(h,d)=>{d(h,w({"data-slot":"avatar",get class(){return f(g)}},()=>r,{get ref(){return e()},set ref(v){e(v)},get loadingStatus(){return s()},set loadingStatus(v){s(v)}}))})}u(i,o),P()}function xt(i,t){let e=S(t,["$$slots","$$events","$$legacy"]);nt(i,w(()=>e))}function lt(i,t){A(t,!0);let e=l(t,"ref",15,null),s=S(t,["$$slots","$$events","$$legacy","ref","class"]);var r=b(),o=x(r);{let n=_(()=>B("aspect-square size-full",t.class));q(o,()=>at,(g,h)=>{h(g,w({"data-slot":"avatar-image",get class(){return f(n)}},()=>s,{get ref(){return e()},set ref(d){e(d)}}))})}u(i,r),P()}function At(i,t){let e=S(t,["$$slots","$$events","$$legacy"]);lt(i,w(()=>e))}function ct(i,t){A(t,!0);let e=l(t,"ref",15,null),s=S(t,["$$slots","$$events","$$legacy","ref","class"]);var r=b(),o=x(r);{let n=_(()=>B("bg-muted flex size-full items-center justify-center rounded-full",t.class));q(o,()=>ot,(g,h)=>{h(g,w({"data-slot":"avatar-fallback",get class(){return f(n)}},()=>s,{get ref(){return e()},set ref(d){e(d)}}))})}u(i,r),P()}function Pt(i,t){let e=S(t,["$$slots","$$events","$$legacy"]);ct(i,w(()=>e))}export{xt as A,bt as D,At as a,Pt as b};
