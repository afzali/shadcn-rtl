import"./DsnmJJEf.js";import{h as dt,g as n,j as W,u as f,ar as ht,d as G,i as p,b as l,a as s,e as H,k as E,f as at,c as B,l as Z,r as D}from"./BhV4zVcd.js";import{i as j,c as nt}from"./tuqvO9WI.js";import{p as r,s as I,r as J}from"./wyqmu6xp.js";import{c as Pt}from"./GklmFB9z.js";import{b as q}from"./xUN7p0v8.js";import{O as _t,g as yt,h as bt,i as ut,k as Ct,F as wt,P as Ot}from"./BlK6YOHi.js";import{n as V}from"./fQonjguN.js";import{b as h,a as gt,u as vt,h as At,e as kt,c as mt,m as Y}from"./Bya0hm2E.js";import{c as Et}from"./BVwZMugY.js";import{C as Ft,E as Nt,S as St,i as ft}from"./B_O5DXF6.js";const st=kt({component:"popover",parts:["root","trigger","content","close"]}),it=new Ft("Popover.Root");class ct{static create(t){return it.set(new ct(t))}opts;#e=dt(null);get contentNode(){return n(this.#e)}set contentNode(t){W(this.#e,t,!0)}#t=dt(null);get triggerNode(){return n(this.#t)}set triggerNode(t){W(this.#t,t,!0)}constructor(t){this.opts=t,new _t({ref:h(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}}class pt{static create(t){return new pt(t,it.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=gt(this.opts.ref,o=>this.root.triggerNode=o),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button===0&&this.root.toggleOpen()}onkeydown(t){this.opts.disabled.current||(t.key===Nt||t.key===St)&&(t.preventDefault(),this.root.toggleOpen())}#e(){if(this.root.opts.open.current&&this.root.contentNode?.id)return this.root.contentNode?.id}#t=f(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":At(this.root.opts.open.current),"data-state":vt(this.root.opts.open.current),"aria-controls":this.#e(),[st.trigger]:"",disabled:this.opts.disabled.current,onkeydown:this.onkeydown,onclick:this.onclick,...this.attachment}));get props(){return n(this.#t)}set props(t){W(this.#t,t)}}class lt{static create(t){return new lt(t,it.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=gt(this.opts.ref,o=>this.root.contentNode=o)}onInteractOutside=t=>{if(this.opts.onInteractOutside.current(t),t.defaultPrevented||!ft(t.target))return;const e=t.target.closest(st.selector("trigger"));if(!(e&&e===this.root.triggerNode)){if(this.opts.customAnchor.current){if(ft(this.opts.customAnchor.current)){if(this.opts.customAnchor.current.contains(t.target))return}else if(typeof this.opts.customAnchor.current=="string"){const o=document.querySelector(this.opts.customAnchor.current);if(o&&o.contains(t.target))return}}this.root.handleClose()}};onEscapeKeydown=t=>{this.opts.onEscapeKeydown.current(t),!t.defaultPrevented&&this.root.handleClose()};#e=f(()=>({open:this.root.opts.open.current}));get snippetProps(){return n(this.#e)}set snippetProps(t){W(this.#e,t)}#t=f(()=>({id:this.opts.id.current,tabindex:-1,"data-state":vt(this.root.opts.open.current),[st.content]:"",style:{pointerEvents:"auto"},...this.attachment}));get props(){return n(this.#t)}set props(t){W(this.#t,t)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown}}var It=at("<div><div><!></div></div>"),xt=at("<div><div><!></div></div>");function Kt(d,t){const e=ht();G(t,!0);let o=r(t,"ref",15,null),a=r(t,"id",19,()=>mt(e)),i=r(t,"forceMount",3,!1),g=r(t,"onCloseAutoFocus",3,V),v=r(t,"onEscapeKeydown",3,V),m=r(t,"onInteractOutside",3,V),_=r(t,"trapFocus",3,!0),C=r(t,"preventScroll",3,!1),x=r(t,"customAnchor",3,null),O=J(t,["$$slots","$$events","$$legacy","child","children","ref","id","forceMount","onCloseAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","customAnchor"]);const c=lt.create({id:h(()=>a()),ref:h(()=>o(),w=>o(w)),onInteractOutside:h(()=>m()),onEscapeKeydown:h(()=>v()),customAnchor:h(()=>x())}),F=f(()=>Y(O,c.props));var N=p(),P=l(N);{var u=w=>{yt(w,I(()=>n(F),()=>c.popperProps,{get ref(){return c.opts.ref},get enabled(){return c.root.opts.open.current},get id(){return a()},get trapFocus(){return _()},get preventScroll(){return C()},loop:!0,forceMount:!0,get customAnchor(){return x()},get onCloseAutoFocus(){return g()},popper:(tt,L)=>{let R=()=>L?.().props,et=()=>L?.().wrapperProps;const Q=f(()=>Y(R(),{style:ut("popover")}));var M=p(),rt=l(M);{var U=y=>{var b=p(),A=l(b);{let z=f(()=>({props:n(Q),wrapperProps:et(),...c.snippetProps}));E(A,()=>t.child,()=>n(z))}s(y,b)},X=y=>{var b=It();q(b,()=>({...et()}));var A=B(b);q(A,()=>({...n(Q)}));var z=B(A);E(z,()=>t.children??Z),D(A),D(b),s(y,b)};j(rt,y=>{t.child?y(U):y(X,!1)})}s(tt,M)},$$slots:{popper:!0}}))},K=w=>{var $=p(),tt=l($);{var L=R=>{bt(R,I(()=>n(F),()=>c.popperProps,{get ref(){return c.opts.ref},get open(){return c.root.opts.open.current},get id(){return a()},get trapFocus(){return _()},get preventScroll(){return C()},loop:!0,forceMount:!1,get customAnchor(){return x()},get onCloseAutoFocus(){return g()},popper:(Q,M)=>{let rt=()=>M?.().props,U=()=>M?.().wrapperProps;const X=f(()=>Y(rt(),{style:ut("popover")}));var y=p(),b=l(y);{var A=S=>{var k=p(),T=l(k);{let ot=f(()=>({props:n(X),wrapperProps:U(),...c.snippetProps}));E(T,()=>t.child,()=>n(ot))}s(S,k)},z=S=>{var k=xt();q(k,()=>({...U()}));var T=B(k);q(T,()=>({...n(X)}));var ot=B(T);E(ot,()=>t.children??Z),D(T),D(k),s(S,k)};j(b,S=>{t.child?S(A):S(z,!1)})}s(Q,y)},$$slots:{popper:!0}}))};j(tt,R=>{i()||R(L)},!0)}s(w,$)};j(P,w=>{i()?w(u):w(K,!1)})}s(d,N),H()}var Rt=at("<button><!></button>");function Mt(d,t){const e=ht();G(t,!0);let o=r(t,"id",19,()=>mt(e)),a=r(t,"ref",15,null),i=r(t,"type",3,"button"),g=r(t,"disabled",3,!1),v=J(t,["$$slots","$$events","$$legacy","children","child","id","ref","type","disabled"]);const m=pt.create({id:h(()=>o()),ref:h(()=>a(),C=>a(C)),disabled:h(()=>!!g())}),_=f(()=>Y(v,m.props,{type:i()}));Ct(d,{get id(){return o()},get ref(){return m.opts.ref},children:(C,x)=>{var O=p(),c=l(O);{var F=P=>{var u=p(),K=l(u);E(K,()=>t.child,()=>({props:n(_)})),s(P,u)},N=P=>{var u=Rt();q(u,()=>({...n(_)}));var K=B(u);E(K,()=>t.children??Z),D(u),s(P,u)};j(c,P=>{t.child?P(F):P(N,!1)})}s(C,O)},$$slots:{default:!0}}),H()}function zt(d,t){G(t,!0);let e=r(t,"open",15,!1),o=r(t,"onOpenChange",3,V),a=r(t,"onOpenChangeComplete",3,V);ct.create({open:h(()=>e(),i=>{e(i),o()(i)}),onOpenChangeComplete:h(()=>a())}),wt(d,{children:(i,g)=>{var v=p(),m=l(v);E(m,()=>t.children??Z),s(i,v)},$$slots:{default:!0}}),H()}function Ut(d,t){G(t,!0);let e=r(t,"ref",15,null),o=r(t,"sideOffset",3,4),a=r(t,"align",3,"center"),i=J(t,["$$slots","$$events","$$legacy","ref","class","sideOffset","align","portalProps"]);var g=p(),v=l(g);nt(v,()=>Ot,(m,_)=>{_(m,I(()=>t.portalProps,{children:(C,x)=>{var O=p(),c=l(O);{let F=f(()=>Pt("bg-popover text-popover-foreground text-right dir-rtl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--bits-popover-content-transform-origin) outline-hidden z-50 w-72 rounded-md border p-4 shadow-md",t.class));nt(c,()=>Kt,(N,P)=>{P(N,I({"data-slot":"popover-content",dir:"rtl",get sideOffset(){return o()},get align(){return a()},get class(){return n(F)}},()=>i,{get ref(){return e()},set ref(u){e(u)}}))})}s(C,O)},$$slots:{default:!0}}))}),s(d,g),H()}function Tt(d,t){G(t,!0);let e=r(t,"ref",15,null),o=J(t,["$$slots","$$events","$$legacy","ref","class"]);var a=p(),i=l(a);{let g=f(()=>Et("",t.class));nt(i,()=>Mt,(v,m)=>{m(v,I({"data-slot":"popover-trigger",get class(){return n(g)}},()=>o,{get ref(){return e()},set ref(_){e(_)}}))})}s(d,a),H()}function Xt(d,t){let e=J(t,["$$slots","$$events","$$legacy"]);Tt(d,I(()=>e))}const Yt=zt;export{Xt as P,Yt as R,Ut as a};
