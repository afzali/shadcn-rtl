import"./Cm9PB-7n.js";import{q as t,j as e,h as n,g as r,u as i,p as s,bc as o,ar as a,d as l,f as u,c,k as p,l as h,s as d,r as m,a as g,e as v,i as f,b as S,n as b,t as w}from"./2wf1Aaj1.js";import{i as x,c as P,b as y}from"./B8dcjSjv.js";import{p as $,r as E,s as C}from"./Pna8C8of.js";import{c as D}from"./C2y8RU1y.js";import{b as k}from"./CY9W8SNi.js";import{l as I,a as A,e as R,k as T,c as M,b as j,m as B}from"./Eys-yhWv.js";import{w as L,n as W}from"./BgwdPspx.js";import{s as F}from"./B7pVWCQ1.js";import{o as H}from"./6lCu8Rqb.js";import{g as _,P as V,D as z}from"./DGFvS-vs.js";const G=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function K({containerRef:i,inputRef:s,pushPasswordManagerStrategy:o,isFocused:a,domContext:l}){let u=n(!1),c=n(!1),p=n(!1);function h(){const t=i.current,n=s.current;if(!t||!n||r(p)||"none"===o.current)return;const a=t,c=a.getBoundingClientRect().left+a.offsetWidth-18,h=a.getBoundingClientRect().top+a.offsetHeight/2;if(0===l.querySelectorAll(G).length){if(l.getDocument().elementFromPoint(c,h)===t)return}e(u,!0),e(p,!0)}return t(()=>{const t=i.current;if(!t||"none"===o.current)return;function n(){const n=_(t).innerWidth-t.getBoundingClientRect().right;e(c,n>=40)}n();const r=setInterval(n,1e3);return()=>{clearInterval(r)}}),t(()=>{const t=a.current||l.getActiveElement()===s.current;if("none"===o.current||!t)return;const n=setTimeout(h,0),r=setTimeout(h,2e3),i=setTimeout(h,5e3),u=setTimeout(()=>{e(p,!0)},6e3);return()=>{clearTimeout(n),clearTimeout(r),clearTimeout(i),clearTimeout(u)}}),{get hasPwmBadge(){return r(u)},get willPushPwmBadge(){return function(){const t=o.current;return"none"!==t&&("increase-width"===t&&r(u)&&r(c))}()},PWM_BADGE_SPACE_WIDTH:"40px"}}const O=R({component:"pin-input",parts:["root","cell"]}),U=["Backspace","Delete","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End","Escape","Enter","Tab","Shift","Control","Meta"];class q{static create(t){return new q(t)}opts;attachment;#t=I(null);#e=n(!1);inputAttachment=A(this.#t);#n=I(!1);#r=n(null);#i=n(null);#s=new V(()=>this.opts.value.current??"");#o=i(()=>"string"==typeof this.opts.pattern.current?new RegExp(this.opts.pattern.current):this.opts.pattern.current);#a=n(s({prev:[null,null,"none"],willSyntheticBlur:!1}));#l;#u;domContext;constructor(n){this.opts=n,this.attachment=A(this.opts.ref),this.domContext=new z(n.ref),this.#u={value:this.opts.value,isIOS:"undefined"!=typeof window&&window?.CSS?.supports("-webkit-touch-callout","none")},this.#l=K({containerRef:this.opts.ref,inputRef:this.#t,isFocused:this.#n,pushPasswordManagerStrategy:this.opts.pushPasswordManagerStrategy,domContext:this.domContext}),H(()=>{const t=this.#t.current,e=this.opts.ref.current;if(!t||!e)return;this.#u.value.current!==t.value&&(this.opts.value.current=t.value),r(this.#a).prev=[t.selectionStart,t.selectionEnd,t.selectionDirection??"none"];const n=o(this.domContext.getDocument(),"selectionchange",this.#c,{capture:!0});this.#c(),this.domContext.getActiveElement()===t&&(this.#n.current=!0),this.domContext.getElementById("pin-input-style")||this.#p();const i=()=>{e&&e.style.setProperty("--bits-pin-input-root-height",`${t.clientHeight}px`)};i();const s=new ResizeObserver(i);return s.observe(t),()=>{n(),s.disconnect()}}),L([()=>this.opts.value.current,()=>this.#t.current],()=>{!function(t,e){const n=e.setTimeout(t,0),r=e.setTimeout(t,10),i=e.setTimeout(t,50)}(()=>{const t=this.#t.current;if(!t)return;t.dispatchEvent(new Event("input"));const n=t.selectionStart,i=t.selectionEnd,s=t.selectionDirection??"none";null!==n&&null!==i&&(e(this.#r,n,!0),e(this.#i,i,!0),r(this.#a).prev=[n,i,s])},this.domContext)}),t(()=>{const t=this.opts.value.current,e=this.#s.current,n=this.opts.maxLength.current,r=this.opts.onComplete.current;void 0!==e&&t!==e&&e.length<n&&t.length===n&&r(t)})}onkeydown=t=>{const e=t.key;U.includes(e)||t.ctrlKey||t.metaKey||e&&r(this.#o)&&!r(this.#o).test(e)&&t.preventDefault()};#h=i(()=>({position:"relative",cursor:this.opts.disabled.current?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}));#d=i(()=>({id:this.opts.id.current,[O.root]:"",style:r(this.#h),...this.attachment}));get rootProps(){return r(this.#d)}set rootProps(t){e(this.#d,t)}#m=i(()=>({style:{position:"absolute",inset:0,pointerEvents:"none"}}));get inputWrapperProps(){return r(this.#m)}set inputWrapperProps(t){e(this.#m,t)}#g=i(()=>({position:"absolute",inset:0,width:this.#l.willPushPwmBadge?`calc(100% + ${this.#l.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:this.#l.willPushPwmBadge?`inset(0 ${this.#l.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:this.opts.textAlign.current,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--bits-pin-input-root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}));#p(){const t=this.domContext.getDocument(),e=t.createElement("style");if(e.id="pin-input-style",t.head.appendChild(e),e.sheet){const t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";J(e.sheet,"[data-pin-input-input]::selection { background: transparent !important; color: transparent !important; }"),J(e.sheet,`[data-pin-input-input]:autofill { ${t} }`),J(e.sheet,`[data-pin-input-input]:-webkit-autofill { ${t} }`),J(e.sheet,"@supports (-webkit-touch-callout: none) { [data-pin-input-input] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),J(e.sheet,"[data-pin-input-input] + * { pointer-events: all !important; }")}}#c=()=>{const t=this.#t.current,n=this.opts.ref.current;if(!t||!n)return;if(this.domContext.getActiveElement()!==t)return e(this.#r,null),void e(this.#i,null);const i=t.selectionStart,s=t.selectionEnd,o=t.selectionDirection??"none",a=t.maxLength,l=t.value,u=r(this.#a).prev;let c,p=-1,h=-1;if(0!==l.length&&null!==i&&null!==s){const t=i===s,e=i===l.length&&l.length<a;if(t&&!e){const t=i;if(0===t)p=0,h=1,c="forward";else if(t===a)p=t-1,h=t,c="backward";else if(a>1&&l.length>1){let e=0;if(null!==u[0]&&null!==u[1]){c=t<u[0]?"backward":"forward";const n=u[0]===u[1]&&u[0]<a;"backward"!==c||n||(e=-1)}p=e-t,h=e+t+1}}-1!==p&&-1!==h&&p!==h&&this.#t.current?.setSelectionRange(p,h,c)}const d=-1!==p?p:i,m=-1!==h?h:s,g=c??o;e(this.#r,d,!0),e(this.#i,m,!0),r(this.#a).prev=[d,m,g]};oninput=t=>{const e=t.currentTarget.value.slice(0,this.opts.maxLength.current);if(e.length>0&&r(this.#o)&&!r(this.#o).test(e))return void t.preventDefault();"string"==typeof this.#s.current&&e.length<this.#s.current.length&&this.domContext.getDocument().dispatchEvent(new Event("selectionchange")),this.opts.value.current=e};onfocus=t=>{const n=this.#t.current;if(n){const t=Math.min(n.value.length,this.opts.maxLength.current-1),r=n.value.length;n.setSelectionRange(t,r),e(this.#r,t,!0),e(this.#i,r,!0)}this.#n.current=!0};onpaste=t=>{const n=this.#t.current;if(!n)return;const i=t=>{const e=null===n.selectionStart?void 0:n.selectionStart,r=null===n.selectionEnd?void 0:n.selectionEnd,i=e!==r,s=this.opts.value.current;return(i?s.slice(0,e)+t+s.slice(r):s.slice(0,e)+t+s.slice(e)).slice(0,this.opts.maxLength.current)},s=t=>t.length>0&&r(this.#o)&&!r(this.#o).test(t);if(!(this.opts.pasteTransformer?.current||this.#u.isIOS&&t.clipboardData&&n)){return void(s(i(t.clipboardData?.getData("text/plain")))&&t.preventDefault())}const o=t.clipboardData?.getData("text/plain")??"",a=this.opts.pasteTransformer?.current?this.opts.pasteTransformer.current(o):o;t.preventDefault();const l=i(a);if(s(l))return;n.value=l,this.opts.value.current=l;const u=Math.min(l.length,this.opts.maxLength.current-1),c=l.length;n.setSelectionRange(u,c),e(this.#r,u,!0),e(this.#i,c,!0)};onmouseover=t=>{e(this.#e,!0)};onmouseleave=t=>{e(this.#e,!1)};onblur=t=>{r(this.#a).willSyntheticBlur?r(this.#a).willSyntheticBlur=!1:this.#n.current=!1};#v=i(()=>({id:this.opts.inputId.current,style:r(this.#g),autocomplete:this.opts.autocomplete.current||"one-time-code","data-pin-input-input":"","data-pin-input-input-mss":r(this.#r),"data-pin-input-input-mse":r(this.#i),inputmode:this.opts.inputmode.current,pattern:r(this.#o)?.source,maxlength:this.opts.maxLength.current,value:this.opts.value.current,disabled:T(this.opts.disabled.current),onpaste:this.onpaste,oninput:this.oninput,onkeydown:this.onkeydown,onmouseover:this.onmouseover,onmouseleave:this.onmouseleave,onfocus:this.onfocus,onblur:this.onblur,...this.inputAttachment}));get inputProps(){return r(this.#v)}set inputProps(t){e(this.#v,t)}#f=i(()=>Array.from({length:this.opts.maxLength.current}).map((t,e)=>{const n=this.#n.current&&null!==r(this.#r)&&null!==r(this.#i)&&(r(this.#r)===r(this.#i)&&e===r(this.#r)||e>=r(this.#r)&&e<r(this.#i)),i=void 0!==this.opts.value.current[e]?this.opts.value.current[e]:null;return{char:i,isActive:n,hasFakeCaret:n&&null===i}}));#S=i(()=>({cells:r(this.#f),isFocused:this.#n.current,isHovering:r(this.#e)}));get snippetProps(){return r(this.#S)}set snippetProps(t){e(this.#S,t)}}class N{static create(t){return new N(t)}opts;attachment;constructor(t){this.opts=t,this.attachment=A(this.opts.ref)}#b=i(()=>({id:this.opts.id.current,[O.cell]:"","data-active":this.opts.cell.current.isActive?"":void 0,"data-inactive":this.opts.cell.current.isActive?void 0:"",...this.attachment}));get props(){return r(this.#b)}set props(t){e(this.#b,t)}}function J(t,e){try{t.insertRule(e)}catch{}}var Y=u("<div><!> <div><input/></div></div>");function Q(t,e){const n=a();l(e,!0);let s=$(e,"id",19,()=>M(n)),o=$(e,"inputId",19,()=>`${M(n)}-input`),u=$(e,"ref",15,null),f=$(e,"maxlength",3,6),S=$(e,"textalign",3,"left"),b=$(e,"inputmode",3,"numeric"),w=$(e,"onComplete",3,W),x=$(e,"pushPasswordManagerStrategy",3,"increase-width"),P=$(e,"class",3,""),y=$(e,"autocomplete",3,"one-time-code"),C=$(e,"disabled",3,!1),D=$(e,"value",15,""),I=$(e,"onValueChange",3,W),A=E(e,["$$slots","$$events","$$legacy","id","inputId","ref","maxlength","textalign","pattern","inputmode","onComplete","pushPasswordManagerStrategy","class","children","autocomplete","disabled","value","onValueChange","pasteTransformer"]);const R=q.create({id:j(()=>s()),ref:j(()=>u(),t=>u(t)),inputId:j(()=>o()),autocomplete:j(()=>y()),maxLength:j(()=>f()),textAlign:j(()=>S()),disabled:j(()=>C()),inputmode:j(()=>b()),pattern:j(()=>e.pattern),onComplete:j(()=>w()),value:j(()=>D(),t=>{D(t),I()(t)}),pushPasswordManagerStrategy:j(()=>x()),pasteTransformer:j(()=>e.pasteTransformer)}),T=i(()=>B(A,R.inputProps)),L=i(()=>B(R.rootProps,{class:P()})),F=i(()=>B(R.inputWrapperProps,{}));var H=Y();k(H,()=>({...r(L)}));var _=c(H);p(_,()=>e.children??h,()=>R.snippetProps);var V=d(_,2);k(V,()=>({...r(F)}));var z=c(V);k(z,()=>({...r(T)}),void 0,void 0,void 0,!0),m(V),m(H),g(t,H),v()}var X=u("<div><!></div>");function Z(t,e){const n=a();l(e,!0);let s=$(e,"id",19,()=>M(n)),o=$(e,"ref",15,null),u=E(e,["$$slots","$$events","$$legacy","id","ref","cell","child","children"]);const d=N.create({id:j(()=>s()),ref:j(()=>o(),t=>o(t)),cell:j(()=>e.cell)}),b=i(()=>B(u,d.props));var w=f(),P=S(w),y=t=>{var n=f(),i=S(n);p(i,()=>e.child,()=>({props:r(b)})),g(t,n)},C=t=>{var n=X();k(n,()=>({...r(b)}));var i=c(n);p(i,()=>e.children??h),m(n),g(t,n)};x(P,t=>{e.child?t(y):t(C,!1)}),g(t,w),v()}function tt(t,e){l(e,!0);let n=$(e,"ref",15,null),s=$(e,"value",15,""),o=E(e,["$$slots","$$events","$$legacy","ref","class","value"]);var a=f(),u=S(a);{let t=i(()=>D("has-disabled:opacity-50 flex items-center gap-2 [&_input]:disabled:cursor-not-allowed",e.class));P(u,()=>Q,(e,i)=>{i(e,C({"data-slot":"input-otp",get class(){return r(t)}},()=>o,{get ref(){return n()},set ref(t){n(t)},get value(){return s()},set value(t){s(t)}}))})}g(t,a),v()}var et=u("<div><!></div>");function nt(t,e){l(e,!0);let n=$(e,"ref",15,null),r=E(e,["$$slots","$$events","$$legacy","ref","class","children"]);var i=et();k(i,t=>({"data-slot":"input-otp-group",class:t,...r}),[()=>D("flex items-center",e.class)]);var s=c(i);p(s,()=>e.children??h),m(i),y(i,t=>n(t),()=>n()),g(t,i),v()}var rt=u('<div class="pointer-events-none absolute inset-0 flex items-center justify-center"><div class="animate-caret-blink bg-foreground h-4 w-px duration-1000"></div></div>'),it=u(" <!>",1);function st(t,e){l(e,!0);let n=$(e,"ref",15,null),s=E(e,["$$slots","$$events","$$legacy","ref","cell","class"]);var o=f(),a=S(o);{let t=i(()=>D("border-input aria-invalid:border-destructive dark:bg-input/30 relative flex size-9 items-center justify-center border-y border-r text-sm outline-none transition-all first:rounded-l-md first:border-l last:rounded-r-md",e.cell.isActive&&"border-ring ring-ring/50 aria-invalid:border-destructive dark:aria-invalid:ring-destructive/40 aria-invalid:ring-destructive/20 ring-offset-background z-10 ring-[3px]",e.class));P(a,()=>Z,(i,o)=>{o(i,C({get cell(){return e.cell},"data-slot":"input-otp-slot",get class(){return r(t)}},()=>s,{get ref(){return n()},set ref(t){n(t)},children:(t,n)=>{b();var r=it(),i=S(r),s=d(i),o=t=>{var e=rt();g(t,e)};x(s,t=>{e.cell.hasFakeCaret&&t(o)}),w(()=>F(i,`${e.cell.char??""} `)),g(t,r)},$$slots:{default:!0}}))})}g(t,o),v()}export{tt as I,nt as a,st as b};
