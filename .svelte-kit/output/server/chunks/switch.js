import{v as e,s as t,p as s,k as r,m as o}from"./index.js";import{c as n}from"./rtl-utils.js";import{n as c}from"./noop.js";import{C as p,E as i,S as a}from"./roving-focus-group.js";import{a as h,d,f as u,k as l,h as k,i as x,e as m,c as b,b as f,m as g}from"./create-id.js";import{H as P}from"./label.js";const w=d({component:"switch",parts:["root","thumb"]}),$=new p("Switch.Root");class v{static create(e){return $.set(new v(e))}opts;attachment;constructor(e){this.opts=e,this.attachment=h(e.ref),this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this)}#e(){this.opts.checked.current=!this.opts.checked.current}onkeydown(e){e.key!==i&&e.key!==a||this.opts.disabled.current||(e.preventDefault(),this.#e())}onclick(e){this.opts.disabled.current||this.#e()}#t=e(()=>({"data-disabled":u(this.opts.disabled.current),"data-state":l(this.opts.checked.current),"data-required":u(this.opts.required.current)}));get sharedProps(){return this.#t()}set sharedProps(e){return this.#t(e)}#s=e(()=>({checked:this.opts.checked.current}));get snippetProps(){return this.#s()}set snippetProps(e){return this.#s(e)}#r=e(()=>({...this.sharedProps,id:this.opts.id.current,role:"switch",disabled:m(this.opts.disabled.current),"aria-checked":x(this.opts.checked.current,!1),"aria-required":k(this.opts.required.current),[w.root]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return this.#r()}set props(e){return this.#r(e)}}class y{static create(){return new y($.get())}root;#o=e(()=>void 0!==this.root.opts.name.current);get shouldRender(){return this.#o()}set shouldRender(e){return this.#o(e)}constructor(e){this.root=e}#r=e(()=>({type:"checkbox",name:this.root.opts.name.current,value:this.root.opts.value.current,checked:this.root.opts.checked.current,disabled:this.root.opts.disabled.current,required:this.root.opts.required.current}));get props(){return this.#r()}set props(e){return this.#r(e)}}class q{static create(e){return new q(e,$.get())}opts;root;attachment;constructor(e,t){this.opts=e,this.root=t,this.attachment=h(e.ref)}#s=e(()=>({checked:this.root.opts.checked.current}));get snippetProps(){return this.#s()}set snippetProps(e){return this.#s(e)}#r=e(()=>({...this.root.sharedProps,id:this.opts.id.current,[w.thumb]:"",...this.attachment}));get props(){return this.#r()}set props(e){return this.#r(e)}}function R(e,n){e.component(e=>{const p=s(e);let{child:i,children:a,ref:h=null,id:d=b(p),disabled:u=!1,required:l=!1,checked:k=!1,value:x="on",name:m,type:w="button",onCheckedChange:$=c,$$slots:q,$$events:R,...j}=n;const C=v.create({checked:f(()=>k,e=>{k=e,$?.(e)}),disabled:f(()=>u??!1),required:f(()=>l),value:f(()=>x),name:f(()=>m),id:f(()=>d),ref:f(()=>h,e=>h=e)}),S=g(j,C.props,{type:w});i?(e.push("\x3c!--[--\x3e"),i(e,{props:S,...C.snippetProps}),e.push("\x3c!----\x3e")):(e.push("\x3c!--[!--\x3e"),e.push(`<button${r({...S})}>`),a?.(e,C.snippetProps),e.push("\x3c!----\x3e</button>")),e.push("\x3c!--]--\x3e "),function(e){e.component(e=>{const s=y.create();s.shouldRender?(e.push("\x3c!--[--\x3e"),P(e,t([s.props]))):e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e")})}(e),e.push("\x3c!----\x3e"),o(n,{ref:h,checked:k})})}function j(e,c){e.component(e=>{let p,{ref:i=null,class:a,checked:h=!1,$$slots:d,$$events:u,...l}=c,k=!0;function x(e){e.push("\x3c!----\x3e"),R(e,t([{"data-slot":"switch",class:n("data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 shadow-xs peer inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent outline-none transition-all focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a)},l,{get ref(){return i},set ref(e){i=e,k=!1},get checked(){return h},set checked(e){h=e,k=!1},children:e=>{e.push("\x3c!----\x3e"),function(e,t){e.component(e=>{const n=s(e);let{child:c,children:p,ref:i=null,id:a=b(n),$$slots:h,$$events:d,...u}=t;const l=q.create({id:f(()=>a),ref:f(()=>i,e=>i=e)}),k=g(u,l.props);c?(e.push("\x3c!--[--\x3e"),c(e,{props:k,...l.snippetProps}),e.push("\x3c!----\x3e")):(e.push("\x3c!--[!--\x3e"),e.push(`<span${r({...k})}>`),p?.(e,l.snippetProps),e.push("\x3c!----\x3e</span>")),e.push("\x3c!--]--\x3e"),o(t,{ref:i})})}(e,{"data-slot":"switch-thumb",class:n("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e.push("\x3c!----\x3e")},$$slots:{default:!0}}])),e.push("\x3c!----\x3e")}do{k=!0,p=e.copy(),x(p)}while(!k);e.subsume(p),o(c,{ref:i,checked:h})})}export{j as S};
