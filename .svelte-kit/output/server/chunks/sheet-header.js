import{Z as t,v as e,p as n,k as s,m as o,e as r,s as i,l as a}from"./index.js";import{s as c,u as p,b as u,d as h,a as l,g as d,h as f,c as g,m,f as b,i as y,v,o as w,w as x,l as P}from"./create-id.js";import{d as O,c as C,w as A,n as S,a as k}from"./noop.js";import"clsx";import{c as T}from"./rtl-utils.js";import{d as F}from"./context.js";import{C as M,S as $,E as D,l as I,e as N,P as E,H as B,d as L,j as K,f as R,m as W,h as H,b as U,R as z,T as G,g as _,n as j,k as Y,o as V,a as X}from"./roving-focus-group.js";import{N as q}from"./events.js";import{P as Z,g as J,a as Q,D as tt,c as et}from"./dom-context.svelte.js";import{isTabbable as nt,tabbable as st,isFocusable as ot,focusable as rt}from"tabbable";import{computePosition as it,offset as at,shift as ct,flip as pt,size as ut,arrow as ht,hide as lt,limitShift as dt}from"@floating-ui/dom";import{c as ft}from"./button2.js";import{I as gt}from"./Icon.js";async function mt(){}function bt(t){return function(t){return"function"==typeof t}(t)?t():t}class yt{#t={width:0,height:0};#e=!1;#n;#s;#o;#r=e(()=>(this.#i()?.(),this.getSize().width));#a=e(()=>(this.#i()?.(),this.getSize().height));#i=e(()=>{if(bt(this.#s))return C()});constructor(t,e={box:"border-box"}){this.#o=e.window??O,this.#n=e,this.#s=t,this.#t={width:0,height:0}}calculateSize(){const t=bt(this.#s);if(!t||!this.#o)return;const e=t.offsetWidth,n=t.offsetHeight;if("border-box"===this.#n.box)return{width:e,height:n};const s=this.#o.getComputedStyle(t),o=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),r=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom);return{width:e-o-(parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth)),height:n-r-(parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth))}}getSize(){return this.#e?this.#t:this.calculateSize()??this.#t}get current(){return this.#i()?.(),this.getSize()}get width(){return this.#r()}get height(){return this.#a()}}function vt(t,e){return setTimeout(e,t)}function wt(t){mt().then(t)}class xt{state;#c;constructor(t,e){this.state=c(t),this.#c=e,this.dispatch=this.dispatch.bind(this)}#p(t){return this.#c[this.state.current][t]??this.state.current}dispatch(t){this.state.current=this.#p(t)}}const Pt={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};class Ot{opts;prevAnimationNameState="none";styles={};initialStatus;previousPresent;machine;present;constructor(t){var e;this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new Z(()=>this.present.current),this.machine=new xt(this.initialStatus,Pt),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),e=this,A(()=>e.present.current,()=>{if(!e.opts.ref.current)return;if(e.present.current===e.previousPresent.current)return;const t=e.prevAnimationNameState,n=Ct(e.opts.ref.current);if(e.present.current)e.machine.dispatch("MOUNT");else if("none"===n||"none"===e.styles.display)e.machine.dispatch("UNMOUNT");else{const s=t!==n;e.previousPresent.current&&s?e.machine.dispatch("ANIMATION_OUT"):e.machine.dispatch("UNMOUNT")}}),function(t){A(()=>t.machine.state.current,()=>{if(!t.opts.ref.current)return;const e=Ct(t.opts.ref.current);t.prevAnimationNameState="mounted"===t.machine.state.current?e:"none"})}(this),function(t){A(()=>t.opts.ref.current,()=>{if(t.opts.ref.current)return t.styles=getComputedStyle(t.opts.ref.current),p(q(t.opts.ref.current,"animationstart",t.handleAnimationStart),q(t.opts.ref.current,"animationcancel",t.handleAnimationEnd),q(t.opts.ref.current,"animationend",t.handleAnimationEnd))})}(this)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=Ct(this.opts.ref.current),n=e.includes(t.animationName)||"none"===e;t.target===this.opts.ref.current&&n&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=Ct(this.opts.ref.current))}#u=e(()=>["mounted","unmountSuspended"].includes(this.machine.state.current));get isPresent(){return this.#u()}set isPresent(t){return this.#u(t)}}function Ct(t){return t&&getComputedStyle(t).animationName||"none"}function At(t,e){t.component(t=>{let{open:n,forceMount:s,presence:o,ref:r}=e;const i=new Ot({open:u(()=>n),ref:r});s||n||i.isPresent?(t.push("\x3c!--[--\x3e"),o?.(t,{present:i.isPresent}),t.push("\x3c!----\x3e")):t.push("\x3c!--[!--\x3e"),t.push("\x3c!--]--\x3e")})}class St{#h;#l=void 0;#d=!1;constructor(t){this.#h=t}#f(){this.#l&&(window.cancelAnimationFrame(this.#l),this.#l=void 0),this.#d=!1}run(t){if(this.#d)return;this.#f(),this.#d=!0;const e=this.#h.ref.current;e?"function"==typeof e.getAnimations?this.#l=window.requestAnimationFrame(()=>{const n=e.getAnimations();0!==n.length?Promise.allSettled(n.map(t=>t.finished)).then(()=>{this.#g(t)}):this.#g(t)}):this.#g(t):this.#d=!1}#g(t){const e=()=>{t(),this.#d=!1};this.#h.afterTick?wt(e):e()}}class kt{#h;#m;#b;constructor(t){this.#h=t,this.#m=t.enabled??!0,this.#b=new St({ref:this.#h.ref,afterTick:this.#h.open}),A([()=>this.#h.open.current],([t])=>{this.#m&&this.#b.run(()=>{t===this.#h.open.current&&this.#h.onComplete()})})}}const Tt=h({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),Ft=new M("Dialog.Root | AlertDialog.Root");class Mt{static create(t){return Ft.set(new Mt(t))}opts;triggerNode=null;contentNode=null;descriptionNode=null;contentId=void 0;titleId=void 0;triggerId=void 0;descriptionId=void 0;cancelNode=null;constructor(t){this.opts=t,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new kt({ref:u(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}getBitsAttr=t=>Tt.getAttr(t,this.opts.variant.current);#y=e(()=>({"data-state":d(this.opts.open.current)}));get sharedProps(){return this.#y()}set sharedProps(t){return this.#y(t)}}class $t{static create(t){return new $t(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref,t=>{this.root.triggerNode=t,this.root.triggerId=t?.id}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleOpen()}onkeydown(t){this.opts.disabled.current||t.key!==$&&t.key!==D||(t.preventDefault(),this.root.handleOpen())}#v=e(()=>({id:this.opts.id.current,"aria-haspopup":"dialog","aria-expanded":f(this.root.opts.open.current),"aria-controls":this.root.contentId,[this.root.getBitsAttr("trigger")]:"",onkeydown:this.onkeydown,onclick:this.onclick,disabled:!!this.opts.disabled.current||void 0,...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Dt{static create(t){return new Dt(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleClose()}onkeydown(t){this.opts.disabled.current||t.key!==$&&t.key!==D||(t.preventDefault(),this.root.handleClose())}#v=e(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:!!this.opts.disabled.current||void 0,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class It{static create(t){return new It(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref)}#v=e(()=>({id:this.opts.id.current,[this.root.getBitsAttr("action")]:"",...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Nt{static create(t){return new Nt(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.root.titleId=this.opts.id.current,this.attachment=l(this.opts.ref),A.pre(()=>this.opts.id.current,t=>{this.root.titleId=t})}#v=e(()=>({id:this.opts.id.current,role:"heading","aria-level":this.opts.level.current,[this.root.getBitsAttr("title")]:"",...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Et{static create(t){return new Et(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.root.descriptionId=this.opts.id.current,this.attachment=l(this.opts.ref,t=>{this.root.descriptionNode=t}),A.pre(()=>this.opts.id.current,t=>{this.root.descriptionId=t})}#v=e(()=>({id:this.opts.id.current,[this.root.getBitsAttr("description")]:"",...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Bt{static create(t){return new Bt(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref,t=>{this.root.contentNode=t,this.root.contentId=t?.id})}#w=e(()=>({open:this.root.opts.open.current}));get snippetProps(){return this.#w()}set snippetProps(t){return this.#w(t)}#v=e(()=>({id:this.opts.id.current,role:"alert-dialog"===this.root.opts.variant.current?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:"alert-dialog"===this.root.opts.variant.current?"none":void 0},tabindex:"alert-dialog"===this.root.opts.variant.current?-1:void 0,...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Lt{static create(t){return new Lt(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref)}#w=e(()=>({open:this.root.opts.open.current}));get snippetProps(){return this.#w()}set snippetProps(t){return this.#w(t)}#v=e(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Kt{static create(t){return new Kt(t,Ft.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref,t=>this.root.cancelNode=t),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleClose()}onkeydown(t){this.opts.disabled.current||t.key!==$&&t.key!==D||(t.preventDefault(),this.root.handleClose())}#v=e(()=>({id:this.opts.id.current,[this.root.getBitsAttr("cancel")]:"",onclick:this.onclick,onkeydown:this.onkeydown,tabindex:0,...this.root.sharedProps,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}function Rt(t,e){t.component(t=>{const r=n(t);let{id:i=g(r),ref:a=null,child:c,children:p,level:h=2,$$slots:l,$$events:d,...f}=e;const b=Nt.create({id:u(()=>i),level:u(()=>h),ref:u(()=>a,t=>a=t)}),y=m(f,b.props);c?(t.push("\x3c!--[--\x3e"),c(t,{props:y}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<div${s({...y})}>`),p?.(t),t.push("\x3c!----\x3e</div>")),t.push("\x3c!--]--\x3e"),o(e,{ref:a})})}const Wt=new M("BitsConfig");class Ht{opts;constructor(t,e){const n=function(t,e){return n=>u(()=>{const s=n(e)?.current;return void 0!==s?s:null!==t?n(t.opts)?.current:void 0})}(t,e);this.opts={defaultPortalTo:n(t=>t.defaultPortalTo),defaultLocale:n(t=>t.defaultLocale)}}}function Ut(t,e){return n=>{const s=function(){const t=new Ht(null,{});return Wt.getOr(t).opts}();return u(()=>{const o=n();if(void 0!==o)return o;const r=t(s).current;return void 0!==r?r:e})}}const zt=Ut(t=>t.defaultLocale,"en"),Gt=Ut(t=>t.defaultPortalTo,"body");function _t(e,n){e.component(e=>{let{to:s,children:o,disabled:r}=n;const i=Gt(()=>s);F();let a,c=function(){if(!I||r)return null;let t=null;if("string"==typeof i.current){t=document.querySelector(i.current)}else t=i.current;return t}();function p(){a&&(t("unmount"),a=null)}A([()=>c,()=>r],([e,n])=>{if(e&&!n)return a=void t("mount"),()=>{p()};p()}),r?(e.push("\x3c!--[--\x3e"),o?.(e),e.push("\x3c!----\x3e")):e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e")})}function jt(t,e=500){let n=null;const s=(...s)=>{null!==n&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)};return s.destroy=()=>{null!==n&&(clearTimeout(n),n=null)},s}function Yt(t,e){return t===e||t.contains(e)}const Vt=[D,$],Xt=[L,K,R],qt=[...[N,E,B],...Xt];function Zt(t){return"mouse"===t.pointerType}function Jt(t,{select:e=!1}={}){if(!t||!t.focus)return;const n=J(t);if(n.activeElement===t)return;const s=n.activeElement;t.focus({preventScroll:!0}),t!==s&&W(t)&&e&&t.select()}function Qt(t){const e=[],n=J(t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function te(){return{getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function ee(t,e){if(!nt(t,te()))return function(t,e){const n=J(t);if(!ot(t,te()))return n.body;const s=rt(n.body,te());"prev"===e&&s.reverse();const o=s.indexOf(t);if(-1===o)return n.body;const r=s.slice(o+1);return r.find(t=>nt(t,te()))??n.body}(t,e);const n=J(t),s=st(n.body,te());"prev"===e&&s.reverse();const o=s.indexOf(t);if(-1===o)return n.body;return s.slice(o+1)[0]}function ne(t,e){const n=[];for(let s=0;s<t.length;s+=e)n.push(t.slice(s,s+e));return n}function se(t,e){return t>=0&&t<e.length}function oe(t,e,n=!0){if(!(0===t.length||e<0||e>=t.length))return 1===t.length&&0===e?t[0]:e===t.length-1?n?t[0]:void 0:t[e+1]}function re(t,e,n=!0){if(!(0===t.length||e<0||e>=t.length))return 1===t.length&&0===e?t[0]:0===e?n?t[t.length-1]:void 0:t[e-1]}function ie(t,e,n,s=!0){if(0===t.length||e<0||e>=t.length)return;let o=e+n;return o=s?(o%t.length+t.length)%t.length:Math.max(0,Math.min(o,t.length-1)),t[o]}function ae(t,e,n,s=!0){if(0===t.length||e<0||e>=t.length)return;let o=e-n;return o=s?(o%t.length+t.length)%t.length:Math.max(0,Math.min(o,t.length-1)),t[o]}function ce(t,e,n){const s=e.toLowerCase();if(s.endsWith(" ")){const o=s.slice(0,-1);if(t.filter(t=>t.toLowerCase().startsWith(o)).length<=1)return ce(t,o,n);const r=n?.toLowerCase();if(r&&r.startsWith(o)&&" "===r.charAt(o.length)&&e.trim()===o)return n;const i=t.filter(t=>t.toLowerCase().startsWith(s));if(i.length>0){const e=n?t.indexOf(n):-1;return pe(i,Math.max(e,0)).find(t=>t!==n)||n}}const o=e.length>1&&Array.from(e).every(t=>t===e[0])?e[0]:e,r=o.toLowerCase(),i=n?t.indexOf(n):-1;let a=pe(t,Math.max(i,0));1===o.length&&(a=a.filter(t=>t!==n));const c=a.find(t=>t?.toLowerCase().startsWith(r));return c!==n?c:void 0}function pe(t,e){return t.map((n,s)=>t[(e+s)%t.length])}const ue={afterMs:1e4,onChange:S};function he(t,e){const{afterMs:n,onChange:s,getWindow:o}={...ue,...e};let r=null,i=t;return u(()=>i,e=>{i=e,s?.(e),r&&o().clearTimeout(r),r=o().setTimeout(()=>{i=t,s?.(t)},n)})}class le{#h;#x;#P=e(()=>this.#h.onMatch?this.#h.onMatch:t=>t.focus());#O=e(()=>this.#h.getCurrentItem?this.#h.getCurrentItem:this.#h.getActiveElement);constructor(t){this.#h=t,this.#x=he("",{afterMs:1e3,getWindow:t.getWindow}),this.handleTypeaheadSearch=this.handleTypeaheadSearch.bind(this),this.resetTypeahead=this.resetTypeahead.bind(this)}handleTypeaheadSearch(t,e){if(!e.length)return;this.#x.current=this.#x.current+t;const n=this.#O()(),s=e.find(t=>t===n)?.textContent?.trim()??"",o=ce(e.map(t=>t.textContent?.trim()??""),this.#x.current,s),r=e.find(t=>t.textContent?.trim()===o);return r&&this.#P()(r),r}resetTypeahead(){this.#x.current=""}get search(){return this.#x.current}}class de{#h;#m;#C;#A=null;constructor(t){this.#h=t,this.#m=e(()=>this.#h.enabled()),this.#C=he(!1,{afterMs:t.transitTimeout??300,onChange:t=>{this.#m()&&this.#h.setIsPointerInTransit?.(t)},getWindow:()=>Q(this.#h.triggerNode())}),A([t.triggerNode,t.contentNode,t.enabled],([t,e,n])=>{if(!t||!e||!n)return;return p(q(t,"pointerleave",t=>{this.#S(t,e)}),q(e,"pointerleave",e=>{this.#S(e,t)}))}),A(()=>this.#A,()=>{const e=J(t.triggerNode()??t.contentNode());if(e)return q(e,"pointermove",e=>{if(!this.#A)return;const n=e.target;if(!U(n))return;const s={x:e.clientX,y:e.clientY},o=t.triggerNode()?.contains(n)||t.contentNode()?.contains(n),r=!function(t,e){const{x:n,y:s}=t;let o=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const t=e[r].x,a=e[r].y,c=e[i].x,p=e[i].y;a>s!=p>s&&n<(c-t)*(s-a)/(p-a)+t&&(o=!o)}return o}(s,this.#A);o?this.#k():r&&(this.#k(),t.onPointerExit())})})}#k(){this.#A=null,this.#C.current=!1}#S(t,e){const n=t.currentTarget;if(!H(n))return;const s={x:t.clientX,y:t.clientY},o=function(t,e,n=5){const s=1.5*n;switch(e){case"top":return[{x:t.x-n,y:t.y+n},{x:t.x,y:t.y-s},{x:t.x+n,y:t.y+n}];case"bottom":return[{x:t.x-n,y:t.y-n},{x:t.x,y:t.y+s},{x:t.x+n,y:t.y-n}];case"left":return[{x:t.x+n,y:t.y-n},{x:t.x-s,y:t.y},{x:t.x+n,y:t.y+n}];case"right":return[{x:t.x-n,y:t.y-n},{x:t.x+s,y:t.y},{x:t.x-n,y:t.y+n}]}}(s,function(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(n,s,o,r)){case r:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,n.getBoundingClientRect())),r=function(t){const e=t.slice();return e.sort((t,e)=>t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0),function(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const t=e[e.length-1],s=e[e.length-2];if(!((t.x-s.x)*(n.y-s.y)>=(t.y-s.y)*(n.x-s.x)))break;e.pop()}e.push(n)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const e=t[s];for(;n.length>=2;){const t=n[n.length-1],s=n[n.length-2];if(!((t.x-s.x)*(e.y-s.y)>=(t.y-s.y)*(e.x-s.x)))break;n.pop()}n.push(e)}return n.pop(),1===e.length&&1===n.length&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}(e)}([...o,...function(t){const{top:e,right:n,bottom:s,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:s},{x:o,y:s}]}(e.getBoundingClientRect())]);this.#A=r,this.#C.current=!0}}const fe="data-context-menu-trigger",ge="data-context-menu-content",me=new M("Menu.Root"),be=new M("Menu.Root | Menu.Sub"),ye=new M("Menu.Content"),ve=new M("Menu.Group | Menu.RadioGroup"),we=new M("Menu.CheckboxGroup"),xe=new class{eventName;options;constructor(t,e={bubbles:!0,cancelable:!0}){this.eventName=t,this.options=e}createEvent(t){return new CustomEvent(this.eventName,{...this.options,detail:t})}dispatch(t,e){const n=this.createEvent(e);return t.dispatchEvent(n),n}listen(t,e,n){return q(t,this.eventName,t=>{e(t)},n)}}("bitsmenuopen",{bubbles:!1,cancelable:!0}),Pe=h({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});class Oe{static create(t){const e=new Oe(t);return me.set(e)}opts;isUsingKeyboard=new Wn;ignoreCloseAutoFocus=!1;isPointerInTransit=!1;constructor(t){this.opts=t}getBitsAttr=t=>Pe.getAttr(t,this.opts.variant.current)}class Ce{static create(t,e){return be.set(new Ce(t,e,null))}opts;root;parentMenu;contentId=u(()=>"");contentNode=null;triggerNode=null;constructor(t,e,n){this.opts=t,this.root=e,this.parentMenu=n,new kt({ref:u(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),n&&A(()=>n.opts.open.current,()=>{n.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class Ae{static create(t){return ye.set(new Ae(t,be.get()))}opts;parentMenu;rovingFocusGroup;domContext;attachment;search="";#T=0;#F;mounted=!1;#M;constructor(t,e){this.opts=t,this.parentMenu=e,this.domContext=new tt(t.ref),this.attachment=l(this.opts.ref,t=>{this.parentMenu.contentNode!==t&&(this.parentMenu.contentNode=t)}),e.contentId=t.id,this.#M=t.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),new de({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&Boolean(this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:t=>{this.parentMenu.root.isPointerInTransit=t}}),this.#F=new le({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch,this.rovingFocusGroup=new z({rootNode:u(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:u(()=>"vertical")}),A(()=>this.parentMenu.contentNode,t=>{if(!t)return;return xe.listen(t,()=>{wt(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})})})}#$(){const t=this.parentMenu.contentNode;if(!t)return[];return Array.from(t.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`))}#D(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=t=>{this.opts.onCloseAutoFocus.current?.(t),t.defaultPrevented||this.#M||this.parentMenu.triggerNode&&nt(this.parentMenu.triggerNode)&&(t.preventDefault(),this.parentMenu.triggerNode.focus())};handleTabKeyDown(t){let e=this.parentMenu;for(;null!==e.parentMenu;)e=e.parentMenu;if(!e.triggerNode)return;t.preventDefault();const n=ee(e.triggerNode,t.shiftKey?"prev":"next");n?(this.parentMenu.root.ignoreCloseAutoFocus=!0,e.onClose(),wt(()=>{n.focus(),wt(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(t){if(t.defaultPrevented)return;if(t.key===G)return void this.handleTabKeyDown(t);const e=t.target,n=t.currentTarget;if(!H(e)||!H(n))return;const s=e.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`)?.id===this.parentMenu.contentId.current,o=t.ctrlKey||t.altKey||t.metaKey,r=1===t.key.length;if(this.rovingFocusGroup.handleKeydown(e,t))return;if("Space"===t.code)return;const i=this.#$();s&&!o&&r&&this.#F(t.key,i),t.target?.id===this.parentMenu.contentId.current&&qt.includes(t.key)&&(t.preventDefault(),Xt.includes(t.key)&&i.reverse(),function(t,{select:e=!1}={},n){const s=n();for(const o of t)if(Jt(o,{select:e}),n()!==s)return!0}(i,{select:!1},()=>this.domContext.getActiveElement()))}onblur(t){U(t.currentTarget)&&U(t.target)&&(t.currentTarget.contains?.(t.target)||(this.domContext.getWindow().clearTimeout(this.#T),this.search=""))}onfocus(t){this.parentMenu.root.isUsingKeyboard.current&&wt(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#D()}onItemLeave(t){if(t.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")))return;if(this.#D()||this.parentMenu.root.isUsingKeyboard.current)return;const e=this.parentMenu.contentNode;e?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#D()}handleInteractOutside(t){if(!_(t.target))return;const e=this.parentMenu.triggerNode?.id;t.target.id!==e?t.target.closest(`#${e}`)&&t.preventDefault():t.preventDefault()}#w=e(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return this.#w()}set snippetProps(t){return this.#w(t)}#v=e(()=>({id:this.opts.id.current,role:"menu","aria-orientation":"vertical",[this.parentMenu.root.getBitsAttr("content")]:"","data-state":d(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}popperProps={onCloseAutoFocus:t=>this.onCloseAutoFocus(t)}}class Se{opts;content;attachment;#I=!1;constructor(t,e){this.opts=t,this.content=e,this.attachment=l(this.opts.ref),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(t){if(!t.defaultPrevented&&Zt(t))if(this.opts.disabled.current)this.content.onItemLeave(t);else{if(this.content.onItemEnter())return;const e=t.currentTarget;if(!H(e))return;e.focus()}}onpointerleave(t){t.defaultPrevented||Zt(t)&&this.content.onItemLeave(t)}onfocus(t){wt(()=>{t.defaultPrevented||this.opts.disabled.current||(this.#I=!0)})}onblur(t){wt(()=>{t.defaultPrevented||(this.#I=!1)})}#v=e(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":f(this.opts.disabled.current),"data-disabled":b(this.opts.disabled.current),"data-highlighted":this.#I?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class ke{static create(t){const e=new Se(t,ye.get());return new ke(t,e)}opts;item;root;#N=!1;constructor(t,e){this.opts=t,this.item=e,this.root=e.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#E(){if(this.item.opts.disabled.current)return;const t=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(t),t.defaultPrevented?this.item.content.parentMenu.root.isUsingKeyboard.current=!1:this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()}onkeydown(t){const e=""!==this.item.content.search;if(!(this.item.opts.disabled.current||e&&t.key===$)&&Vt.includes(t.key)){if(!H(t.currentTarget))return;t.currentTarget.click(),t.preventDefault()}}onclick(t){this.item.opts.disabled.current||this.#E()}onpointerup(t){if(!t.defaultPrevented&&!this.#N){if(!H(t.currentTarget))return;t.currentTarget?.click()}}onpointerdown(t){this.#N=!0}#v=e(()=>m(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Te{static create(t,e){const n=new ke(t,new Se(t,ye.get()));return new Te(t,n,e)}opts;item;group;constructor(t,e,n=null){this.opts=t,this.item=e,this.group=n,this.group&&(A(()=>this.group.opts.value.current,t=>{this.opts.checked.current=t.includes(this.opts.value.current)}),A(()=>this.opts.checked.current,t=>{t?this.group.addValue(this.opts.value.current):this.group.removeValue(this.opts.value.current)}))}toggleChecked(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}#w=e(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current}));get snippetProps(){return this.#w()}set snippetProps(t){return this.#w(t)}#v=e(()=>{return{...this.item.props,role:"menuitemcheckbox","aria-checked":y(this.opts.checked.current,this.opts.indeterminate.current),"data-state":(t=this.opts.checked.current,function(t){return"indeterminate"===t}(t)?"indeterminate":t?"checked":"unchecked"),[this.item.root.getBitsAttr("checkbox-item")]:""};var t});get props(){return this.#v()}set props(t){return this.#v(t)}}class Fe{static create(t){return ve.set(new Fe(t,me.get()))}opts;root;attachment;groupHeadingId=void 0;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref)}#v=e(()=>({id:this.opts.id.current,role:"group","aria-labelledby":this.groupHeadingId,[this.root.getBitsAttr("group")]:"",...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Me{static create(t){return new Me(t,me.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref)}#v=e(()=>({id:this.opts.id.current,role:"group",[this.root.getBitsAttr("separator")]:"",...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class $e{static create(t){return new $e(t,be.get())}opts;parentMenu;attachment;constructor(t,e){this.opts=t,this.parentMenu=e,this.attachment=l(this.opts.ref,t=>this.parentMenu.triggerNode=t)}onclick=t=>{this.opts.disabled.current||0!==t.detail||(this.parentMenu.toggleOpen(),t.preventDefault())};onpointerdown=t=>{if(!this.opts.disabled.current)return"touch"===t.pointerType?t.preventDefault():void(0===t.button&&!1===t.ctrlKey&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||t.preventDefault()))};onpointerup=t=>{this.opts.disabled.current||"touch"===t.pointerType&&(t.preventDefault(),this.parentMenu.toggleOpen())};onkeydown=t=>{if(!this.opts.disabled.current)return t.key===$||t.key===D?(this.parentMenu.toggleOpen(),void t.preventDefault()):void(t.key===N&&(this.parentMenu.onOpen(),t.preventDefault()))};#B=e(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#v=e(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":f(this.parentMenu.opts.open.current),"aria-controls":this.#B(),"data-disabled":b(this.opts.disabled.current),"data-state":d(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}globalThis.bitsDismissableLayers??=new Map;class De{static create(t){return new De(t)}opts;#L;#K;#R={pointerdown:!1};#W=!1;#H=!1;#U=void 0;#z;#G=S;constructor(t){this.opts=t,this.#K=t.interactOutsideBehavior,this.#L=t.onInteractOutside,this.#z=t.onFocusOutside;let e=S;const n=()=>{this.#_(),globalThis.bitsDismissableLayers.delete(this),this.#j.destroy(),e()};A([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(this.opts.enabled.current&&this.opts.ref.current)return vt(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#K),e(),e=this.#Y())}),n})}#V=t=>{t.defaultPrevented||this.opts.ref.current&&wt(()=>{this.opts.ref.current&&!this.#X(t.target)&&t.target&&!this.#H&&this.#z.current?.(t)})};#Y(){return p(q(this.#U,"pointerdown",p(this.#q,this.#Z),{capture:!0}),q(this.#U,"pointerdown",p(this.#J,this.#j)),q(this.#U,"focusin",this.#V))}#Q=t=>{let e=t;e.defaultPrevented&&(e=Ie(t)),this.#L.current(t)};#j=jt(t=>{if(!this.opts.ref.current)return void this.#G();const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||function(t,e){const n=t.target;if(!_(n))return!1;const s=Boolean(n.closest(`[${fe}]`));if("button"in t&&t.button>0&&!s)return!1;const o=Boolean(e.closest(`[${ge}]`));if(s&&o)return!1;const r=(i=n,i?.ownerDocument??document).documentElement.contains(n)&&!Yt(e,n)&&function(t,e){const{clientX:n,clientY:s}=t,o=e.getBoundingClientRect();return n<o.left||n>o.right||s<o.top||s>o.bottom}(t,e);var i;return r}(t,this.opts.ref.current);if(!this.#W||this.#tt()||!e)return void this.#G();let n=t;n.defaultPrevented&&(n=Ie(n)),"close"===this.#K.current||"defer-otherwise-close"===this.#K.current?"touch"===t.pointerType?(this.#G(),this.#G=q(this.#U,"click",this.#Q,{once:!0})):this.#L.current(n):this.#G()},10);#q=t=>{this.#R[t.type]=!0};#J=t=>{this.#R[t.type]=!1};#Z=()=>{this.opts.ref.current&&(this.#W=function(t){const e=[...globalThis.bitsDismissableLayers],n=function(t=[...globalThis.bitsDismissableLayers]){return t.findLast(([t,{current:e}])=>"close"===e||"ignore"===e)}(e);if(n)return n[0].opts.ref.current===t;const[s]=e[0];return s.opts.ref.current===t}(this.opts.ref.current))};#X=t=>!!this.opts.ref.current&&Yt(this.opts.ref.current,t);#_=jt(()=>{for(const t in this.#R)this.#R[t]=!1;this.#W=!1},20);#tt(){return Object.values(this.#R).some(Boolean)}#et=()=>{this.#H=!0};#nt=()=>{this.#H=!1};props={onfocuscapture:this.#et,onblurcapture:this.#nt}}function Ie(t){const e=t.currentTarget,n=t.target;let s;s=t instanceof PointerEvent?new PointerEvent(t.type,t):new PointerEvent("pointerdown",t);let o=!1;return new Proxy(s,{get:(s,r)=>"currentTarget"===r?e:"target"===r?n:"preventDefault"===r?()=>{o=!0,"function"==typeof s.preventDefault&&s.preventDefault()}:"defaultPrevented"===r?o:r in s?s[r]:t[r]})}function Ne(t,e){t.component(t=>{let{interactOutsideBehavior:n="close",onInteractOutside:s=S,onFocusOutside:o=S,id:r,children:i,enabled:a,isValidEvent:c=()=>!1,ref:p}=e;const h=De.create({id:u(()=>r),interactOutsideBehavior:u(()=>n),onInteractOutside:u(()=>s),enabled:u(()=>a),onFocusOutside:u(()=>o),isValidEvent:u(()=>c),ref:p});i?.(t,{props:h.props}),t.push("\x3c!----\x3e")})}globalThis.bitsEscapeLayers??=new Map;class Ee{static create(t){return new Ee(t)}opts;domContext;constructor(t){this.opts=t,this.domContext=new tt(this.opts.ref);let e=S;A(()=>t.enabled.current,n=>(n&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=this.#st()),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}#st=()=>q(this.domContext.getDocument(),"keydown",this.#ot,{passive:!1});#ot=t=>{if(t.key!==j||!function(t){const e=[...globalThis.bitsEscapeLayers],n=e.findLast(([t,{current:e}])=>"close"===e||"ignore"===e);if(n)return n[0]===t;const[s]=e[0];return s===t}(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const n=this.opts.escapeKeydownBehavior.current;"close"!==n&&"defer-otherwise-close"!==n||this.opts.onEscapeKeydown.current(e)}}function Be(t,e){t.component(t=>{let{escapeKeydownBehavior:n="close",onEscapeKeydown:s=S,children:o,enabled:r,ref:i}=e;Ee.create({escapeKeydownBehavior:u(()=>n),onEscapeKeydown:u(()=>s),enabled:u(()=>r),ref:i}),o?.(t),t.push("\x3c!----\x3e")})}class Le{static instance;#rt=c([]);#it=new WeakMap;#at=new WeakMap;static getInstance(){return this.instance||(this.instance=new Le),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause();const n=document.activeElement;n&&n!==document.body&&this.#at.set(t,n),this.#rt.current=this.#rt.current.filter(e=>e!==t),this.#rt.current.unshift(t)}unregister(t){this.#rt.current=this.#rt.current.filter(e=>e!==t);const e=this.getActive();e&&e.resume()}getActive(){return this.#rt.current[0]}setFocusMemory(t,e){this.#it.set(t,e)}getFocusMemory(t){return this.#it.get(t)}isActiveScope(t){return this.getActive()===t}setPreFocusMemory(t,e){this.#at.set(t,e)}getPreFocusMemory(t){return this.#at.get(t)}clearPreFocusMemory(t){this.#at.delete(t)}}class Ke{#ct=!1;#pt=null;#ut=Le.getInstance();#ht=[];#h;constructor(t){this.#h=t}get paused(){return this.#ct}pause(){this.#ct=!0}resume(){this.#ct=!1}#f(){for(const t of this.#ht)t();this.#ht=[]}mount(t){this.#pt&&this.unmount(),this.#pt=t,this.#ut.register(this),this.#lt(),this.#dt()}unmount(){this.#pt&&(this.#f(),this.#ft(),this.#ut.unregister(this),this.#ut.clearPreFocusMemory(this),this.#pt=null)}#dt(){if(!this.#pt)return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#h.onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!this.#pt)return;const t=this.#gt();t?(t.focus(),this.#ut.setFocusMemory(this,t)):this.#pt.focus()})}#ft(){const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#h.onCloseAutoFocus.current?.(t),!t.defaultPrevented){const t=this.#ut.getPreFocusMemory(this);if(t&&document.contains(t))try{t.focus()}catch{document.body.focus()}}}#lt(){if(!this.#pt||!this.#h.trap.current)return;const t=this.#pt,e=t.ownerDocument;this.#ht.push(q(e,"focusin",e=>{if(this.#ct||!this.#ut.isActiveScope(this))return;const n=e.target;if(!n)return;if(t.contains(n))this.#ut.setFocusMemory(this,n);else{const n=this.#ut.getFocusMemory(this);if(n&&t.contains(n)&&ot(n))e.preventDefault(),n.focus();else{const e=this.#gt(),n=this.#mt()[0];(e||n||t).focus()}}},{capture:!0}),q(t,"keydown",t=>{if(!this.#h.loop||this.#ct||"Tab"!==t.key)return;if(!this.#ut.isActiveScope(this))return;const n=this.#bt();if(n.length<2)return;const s=n[0],o=n[n.length-1];t.shiftKey||e.activeElement!==o?t.shiftKey&&e.activeElement===s&&(t.preventDefault(),o.focus()):(t.preventDefault(),s.focus())}));const n=new MutationObserver(()=>{const e=this.#ut.getFocusMemory(this);if(e&&!t.contains(e)){const e=this.#gt(),n=this.#mt()[0],s=e||n;s?(s.focus(),this.#ut.setFocusMemory(this,s)):t.focus()}});n.observe(t,{childList:!0,subtree:!0}),this.#ht.push(()=>n.disconnect())}#bt(){return this.#pt?st(this.#pt,{includeContainer:!1,getShadowRoot:!0}):[]}#gt(){return this.#bt()[0]||null}#mt(){return this.#pt?rt(this.#pt,{includeContainer:!1,getShadowRoot:!0}):[]}static use(t){let e=null;return A([()=>t.ref.current,()=>t.enabled.current],([n,s])=>{n&&s?(e||(e=new Ke(t)),e.mount(n)):e&&(e.unmount(),e=null)}),{get props(){return{tabindex:-1}}}}}function Re(t,e){t.component(t=>{let{enabled:n=!1,trapFocus:s=!1,loop:o=!1,onCloseAutoFocus:r=S,onOpenAutoFocus:i=S,focusScope:a,ref:c}=e;const p=Ke.use({enabled:u(()=>n),trap:u(()=>s),loop:o,onCloseAutoFocus:u(()=>r),onOpenAutoFocus:u(()=>i),ref:c});a?.(t,{props:p.props}),t.push("\x3c!----\x3e")})}globalThis.bitsTextSelectionLayers??=new Map;class We{static create(t){return new We(t)}opts;domContext;#yt=S;constructor(t){this.opts=t,this.domContext=new tt(t.ref);let e=S;A(()=>this.opts.enabled.current,t=>(t&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=this.#Y()),()=>{e(),this.#vt(),globalThis.bitsTextSelectionLayers.delete(this)}))}#Y(){return p(q(this.domContext.getDocument(),"pointerdown",this.#wt),q(this.domContext.getDocument(),"pointerup",v(this.#vt,this.opts.onPointerUp.current)))}#wt=t=>{const e=this.opts.ref.current,n=t.target;H(e)&&H(n)&&this.opts.enabled.current&&function(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const n=e.at(-1);return!!n&&n[0]===t}(this)&&et(e,n)&&(this.opts.onPointerDown.current(t),t.defaultPrevented||(this.#yt=function(t,e){const n=He(e),s=He(t);return Ue(e,"none"),Ue(t,"text"),()=>{Ue(e,n),Ue(t,s)}}(e,this.domContext.getDocument().body)))};#vt=()=>{this.#yt(),this.#yt=S}}const He=t=>t.style.userSelect||t.style.webkitUserSelect;function Ue(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function ze(t,e){t.component(t=>{let{preventOverflowTextSelection:n=!0,onPointerDown:s=S,onPointerUp:o=S,id:r,children:i,enabled:a,ref:c}=e;We.create({id:u(()=>r),onPointerDown:u(()=>s),onPointerUp:u(()=>o),enabled:u(()=>a&&n),ref:c}),i?.(t),t.push("\x3c!----\x3e")})}function Ge(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}globalThis.bitsIdCounter??={current:0};const _e=new k;let je=null,Ye=null,Ve=!1;const Xe=u(()=>{for(const t of _e.values())if(t)return!0;return!1});let qe=null;const Ze=new class{#xt;#Pt=0;#Ot;#Ct;constructor(t){this.#xt=t}#At(){this.#Pt-=1,this.#Ct&&this.#Pt<=0&&(this.#Ct(),this.#Ot=void 0,this.#Ct=void 0)}get(...t){return this.#Pt+=1,void 0===this.#Ot&&(this.#Ct=()=>{}),this.#Ot}}(()=>{function t(){null!==Ye&&(window.clearTimeout(Ye),Ye=null)}function e(){null!==je||0!==_e.size||Ve||(je=document.body.getAttribute("style"))}return A(()=>Xe.current,()=>{if(!Xe.current)return;e(),Ve=!1;const t=getComputedStyle(document.body),n=window.innerWidth-document.documentElement.clientWidth,s=Number.parseInt(t.paddingRight??"0",10)+n,o=Number.parseInt(t.marginRight??"0",10);n>0&&(document.body.style.paddingRight=`${s}px`,document.body.style.marginRight=`${o}px`,document.body.style.setProperty("--scrollbar-width",`${n}px`),document.body.style.overflow="hidden"),Y&&q(document,"touchmove",t=>{t.target===document.documentElement&&(t.touches.length>1||t.preventDefault())},{passive:!1}),wt(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),{get lockMap(){return _e},resetBodyStyle:function(){},scheduleCleanupIfNoNewLocks:function(e,n){t(),Ve=!0,qe=Date.now();const s=qe,o=null===e?24:e;Ye=window.setTimeout(()=>{Ye=null,qe===s&&(!function(t){for(const[e,n]of t)if(n)return!0;return!1}(_e)?(Ve=!1,n()):Ve=!1)},o)},cancelPendingCleanup:t,ensureInitialStyleCaptured:e}});class Je{#St=Ge();#kt;#Tt=()=>null;#Ft;locked;constructor(t,e=()=>null){this.#kt=t,this.#Tt=e,this.#Ft=Ze.get(),this.#Ft&&(this.#Ft.cancelPendingCleanup(),this.#Ft.ensureInitialStyleCaptured(),this.#Ft.lockMap.set(this.#St,this.#kt??!1),this.locked=u(()=>this.#Ft.lockMap.get(this.#St)??!1,t=>this.#Ft.lockMap.set(this.#St,t)))}}function Qe(t,e){t.component(t=>{let{preventScroll:n=!0,restoreScrollDelay:s=null}=e;n&&new Je(n,()=>s)})}function tn({forceMount:t,present:e,open:n}){return(t||e)&&n}function en(t,e){t.component(t=>{const r=n(t);let{id:i=g(r),forceMount:a=!1,child:c,children:p,ref:h=null,$$slots:l,$$events:d,...f}=e;const b=Lt.create({id:u(()=>i),ref:u(()=>h,t=>h=t)}),y=m(f,b.props);{let e=function(t){c?(t.push("\x3c!--[--\x3e"),c(t,{props:m(y),...b.snippetProps}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<div${s({...m(y)})}>`),p?.(t,b.snippetProps),t.push("\x3c!----\x3e</div>")),t.push("\x3c!--]--\x3e")};At(t,{open:b.root.opts.open.current||a,ref:b.opts.ref,presence:e})}o(e,{ref:h})})}function nn(t,e){t.component(t=>{const r=n(t);let{id:i=g(r),children:a,child:c,ref:p=null,$$slots:h,$$events:l,...d}=e;const f=Et.create({id:u(()=>i),ref:u(()=>p,t=>p=t)}),b=m(d,f.props);c?(t.push("\x3c!--[--\x3e"),c(t,{props:b}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<div${s({...b})}>`),a?.(t),t.push("\x3c!----\x3e</div>")),t.push("\x3c!--]--\x3e"),o(e,{ref:p})})}function sn(t){return"function"==typeof t?t():t}function on(t){if("undefined"==typeof window)return 1;return(t.ownerDocument.defaultView||window).devicePixelRatio||1}function rn(t,e){const n=on(t);return Math.round(e*n)/n}function an(t){return{[`--bits-${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${t}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${t}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${t}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}const cn={top:"bottom",right:"left",bottom:"top",left:"right"},pn=new M("Floating.Root"),un=new M("Floating.Content"),hn=new M("Floating.Root");class ln{static create(t=!1){return t?hn.set(new ln):pn.set(new ln)}anchorNode=c(null);customAnchorNode=c(null);triggerNode=c(null);constructor(){}}class dn{static create(t,e=!1){return e?un.set(new dn(t,hn.get())):un.set(new dn(t,pn.get()))}opts;root;contentRef=c(null);wrapperRef=c(null);arrowRef=c(null);contentAttachment=l(this.contentRef);wrapperAttachment=l(this.wrapperRef);arrowAttachment=l(this.arrowRef);arrowId=c(Ge());#Mt=e(()=>"string"==typeof this.opts.style?x(this.opts.style):this.opts.style?void 0:{});#$t=void 0;#Dt=new yt(()=>this.arrowRef.current??void 0);#It=e(()=>this.#Dt?.width??0);#Nt=e(()=>this.#Dt?.height??0);#Et=e(()=>this.opts.side?.current+("center"!==this.opts.align.current?`-${this.opts.align.current}`:""));#Bt=e(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]);#Lt=e(()=>this.#Bt().length>0);get hasExplicitBoundaries(){return this.#Lt()}set hasExplicitBoundaries(t){return this.#Lt(t)}#Kt=e(()=>({padding:this.opts.collisionPadding.current,boundary:this.#Bt().filter(V),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return this.#Kt()}set detectOverflowOptions(t){return this.#Kt(t)}#Rt=void 0;#Wt=void 0;#Ht=void 0;#Ut=void 0;#zt=e(()=>{return[at({mainAxis:this.opts.sideOffset.current+this.#Nt(),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&ct({mainAxis:!0,crossAxis:!1,limiter:"partial"===this.opts.sticky.current?dt():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&pt({...this.detectOverflowOptions}),ut({...this.detectOverflowOptions,apply:({rects:t,availableWidth:e,availableHeight:n})=>{const{width:s,height:o}=t.reference;this.#Rt=e,this.#Wt=n,this.#Ht=s,this.#Ut=o}}),this.arrowRef.current&&ht({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),(t={arrowWidth:this.#It(),arrowHeight:this.#Nt()},{name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:o}=e,r=0!==o.arrow?.centerOffset,i=r,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[p,u]=mn(n),h={start:"0%",center:"50%",end:"100%"}[u],l=(o.arrow?.x??0)+a/2,d=(o.arrow?.y??0)+c/2;let f="",g="";return"bottom"===p?(f=i?h:`${l}px`,g=-c+"px"):"top"===p?(f=i?h:`${l}px`,g=`${s.floating.height+c}px`):"right"===p?(f=-c+"px",g=i?h:`${d}px`):"left"===p&&(f=`${s.floating.width+c}px`,g=i?h:`${d}px`),{data:{x:f,y:g}}}}),this.opts.hideWhenDetached.current&&lt({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean);var t});get middleware(){return this.#zt()}set middleware(t){return this.#zt(t)}floating;#Gt=e(()=>mn(this.floating.placement)[0]);get placedSide(){return this.#Gt()}set placedSide(t){return this.#Gt(t)}#_t=e(()=>mn(this.floating.placement)[1]);get placedAlign(){return this.#_t()}set placedAlign(t){return this.#_t(t)}#jt=e(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return this.#jt()}set arrowX(t){return this.#jt(t)}#Yt=e(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return this.#Yt()}set arrowY(t){return this.#Yt(t)}#Vt=e(()=>0!==this.floating.middlewareData.arrow?.centerOffset);get cannotCenterArrow(){return this.#Vt()}set cannotCenterArrow(t){return this.#Vt(t)}contentZIndex;#Xt=e(()=>cn[this.placedSide]);get arrowBaseSide(){return this.#Xt()}set arrowBaseSide(t){return this.#Xt(t)}#qt=e(()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${this.#Rt}px`,"--bits-floating-available-height":`${this.#Wt}px`,"--bits-floating-anchor-width":`${this.#Ht}px`,"--bits-floating-anchor-height":`${this.#Ut}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...this.#Mt()},dir:this.opts.dir.current,...this.wrapperAttachment}));get wrapperProps(){return this.#qt()}set wrapperProps(t){return this.#qt(t)}#v=e(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:P({...this.#Mt()}),...this.contentAttachment}));get props(){return this.#v()}set props(t){return this.#v(t)}#Zt=e(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0}));get arrowStyle(){return this.#Zt()}set arrowStyle(t){return this.#Zt(t)}constructor(t,e){this.opts=t,this.root=e,t.customAnchor&&(this.root.customAnchorNode.current=t.customAnchor.current),A(()=>t.customAnchor.current,t=>{this.root.customAnchorNode.current=t}),this.floating=function(t){const e=sn(t.open)??!0,n=sn(t.middleware),s=sn(t.transform)??!0,o=sn(t.placement)??"bottom",r=sn(t.strategy)??"absolute",i=sn(t.sideOffset)??0,a=sn(t.alignOffset)??0,p=t.reference;let u=0,h=0;const l=c(null);let d=r,f=o,g={},m=!1;const b=(()=>{const t=l.current?rn(l.current,u):u,e=l.current?rn(l.current,h):h;return s?{position:d,left:"0",top:"0",transform:`translate(${t}px, ${e}px)`,...l.current&&on(l.current)>=1.5&&{willChange:"transform"}}:{position:d,left:`${t}px`,top:`${e}px`}})();function y(){null!==p.current&&null!==l.current&&it(p.current,l.current,{middleware:n,placement:o,strategy:r}).then(t=>{if(!e&&0!==u&&0!==h){const e=Math.max(Math.abs(i),Math.abs(a),15);if(t.x<=e&&t.y<=e)return}u=t.x,h=t.y,d=t.strategy,f=t.placement,g=t.middlewareData,m=!0})}return{floating:l,reference:p,get strategy(){return d},get placement(){return f},get middlewareData(){return g},get isPositioned(){return m},get floatingStyles(){return b},get update(){return y}}}({strategy:()=>this.opts.strategy.current,placement:()=>this.#Et(),middleware:()=>this.middleware,reference:this.root.anchorNode,open:()=>this.opts.enabled.current,sideOffset:()=>this.opts.sideOffset.current,alignOffset:()=>this.opts.alignOffset.current}),A(()=>this.contentRef.current,t=>{if(!t)return;const e=Q(t);this.contentZIndex=e.getComputedStyle(t).zIndex})}}class fn{static create(t){return new fn(t,un.get())}opts;content;constructor(t,e){this.opts=t,this.content=e}#v=e(()=>({id:this.opts.id.current,style:this.content.arrowStyle,"data-side":this.content.placedSide,...this.content.arrowAttachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class gn{static create(t,e=!1){return new gn(t,e?hn.get():pn.get())}opts;root;constructor(t,e){this.opts=t,this.root=e,t.virtualEl&&t.virtualEl.current?e.triggerNode=w(t.virtualEl.current):e.triggerNode=t.ref}}function mn(t){const[e,n="center"]=t.split("-");return[e,n]}function bn(t,e){t.component(t=>{let{children:n,tooltip:s=!1}=e;ln.create(s),n?.(t),t.push("\x3c!----\x3e")})}function yn(t,e){t.component(t=>{let{id:n,children:s,virtualEl:o,ref:r,tooltip:i=!1}=e;gn.create({id:u(()=>n),virtualEl:u(()=>o),ref:r},i),s?.(t),t.push("\x3c!----\x3e")})}function vn(t,e){t.component(t=>{let{id:n=Ge(),ref:a=null,$$slots:c,$$events:p,...h}=e;const l=fn.create({id:u(()=>n),ref:u(()=>a,t=>a=t)}),d=m(h,l.props);!function(t,e){t.component(t=>{let{id:n=Ge(),children:o,child:i,width:a=10,height:c=5,$$slots:p,$$events:u,...h}=e;const l=m(h,{id:n});i?(t.push("\x3c!--[--\x3e"),i(t,{props:l}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<span${s({...l})}>`),o?(t.push("\x3c!--[--\x3e"),o?.(t),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<svg${r("width",a)}${r("height",c)} viewBox="0 0 30 10" preserveAspectRatio="none" data-arrow=""><polygon points="0,0 30,0 15,10" fill="currentColor"></polygon></svg>`)),t.push("\x3c!--]--\x3e</span>")),t.push("\x3c!--]--\x3e")})}(t,i([d])),o(e,{ref:a})})}function wn(t,e){let{content:n,isStatic:s=!1,onPlaced:o,$$slots:r,$$events:a,...c}=e;s?(t.push("\x3c!--[--\x3e"),function(t,e){t.component(t=>{let{content:n}=e;n?.(t,{props:{},wrapperProps:{}}),t.push("\x3c!----\x3e")})}(t,{content:n})):(t.push("\x3c!--[!--\x3e"),function(t,e){t.component(t=>{let{content:n,side:s="bottom",sideOffset:o=0,align:r="center",alignOffset:i=0,id:a,arrowPadding:c=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:l=0,hideWhenDetached:d=!1,onPlaced:f=()=>{},sticky:g="partial",updatePositionStrategy:b="optimized",strategy:y="fixed",dir:v="ltr",style:w={},wrapperId:x=Ge(),customAnchor:P=null,enabled:O,tooltip:C=!1}=e;const A=dn.create({side:u(()=>s),sideOffset:u(()=>o),align:u(()=>r),alignOffset:u(()=>i),id:u(()=>a),arrowPadding:u(()=>c),avoidCollisions:u(()=>p),collisionBoundary:u(()=>h),collisionPadding:u(()=>l),hideWhenDetached:u(()=>d),onPlaced:u(()=>f),sticky:u(()=>g),updatePositionStrategy:u(()=>b),strategy:u(()=>y),dir:u(()=>v),style:u(()=>w),enabled:u(()=>O),wrapperId:u(()=>x),customAnchor:u(()=>P)},C),S=m(A.wrapperProps,{style:{pointerEvents:"auto"}});n?.(t,{props:A.props,wrapperProps:S}),t.push("\x3c!----\x3e")})}(t,i([{content:n,onPlaced:o},c]))),t.push("\x3c!--]--\x3e")}function xn(t,e){t.component(t=>{let{popper:n,onEscapeKeydown:s,escapeKeydownBehavior:o,preventOverflowTextSelection:r,id:i,onPointerDown:a,onPointerUp:c,side:p,sideOffset:u,align:h,alignOffset:l,arrowPadding:d,avoidCollisions:f,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:v,updatePositionStrategy:w,strategy:x,dir:P,preventScroll:O,wrapperId:C,style:A,onPlaced:S,onInteractOutside:k,onCloseAutoFocus:T,onOpenAutoFocus:F,onFocusOutside:M,interactOutsideBehavior:$="close",loop:D,trapFocus:I=!0,isValidEvent:N=()=>!1,customAnchor:E=null,isStatic:B=!1,enabled:L,ref:K,tooltip:R=!1,$$slots:W,$$events:H,...U}=e;wn(t,{isStatic:B,id:i,side:p,sideOffset:u,align:h,alignOffset:l,arrowPadding:d,avoidCollisions:f,collisionBoundary:g,collisionPadding:b,sticky:y,hideWhenDetached:v,updatePositionStrategy:w,strategy:x,dir:P,wrapperId:C,style:A,onPlaced:S,customAnchor:E,enabled:L,tooltip:R,content:function(t,{props:e,wrapperProps:p}){U.forceMount&&L?(t.push("\x3c!--[--\x3e"),Qe(t,{preventScroll:O})):(t.push("\x3c!--[!--\x3e"),U.forceMount?t.push("\x3c!--[!--\x3e"):(t.push("\x3c!--[--\x3e"),Qe(t,{preventScroll:O})),t.push("\x3c!--]--\x3e")),t.push("\x3c!--]--\x3e ");{let u=function(t,{props:u}){Be(t,{onEscapeKeydown:s,escapeKeydownBehavior:o,enabled:L,ref:K,children:t=>{Ne(t,{id:i,onInteractOutside:k,onFocusOutside:M,interactOutsideBehavior:$,isValidEvent:N,enabled:L,ref:K,children:function(t,{props:s}){ze(t,{id:i,preventOverflowTextSelection:r,onPointerDown:a,onPointerUp:c,enabled:L,ref:K,children:t=>{n?.(t,{props:m(U,e,s,u,{style:{pointerEvents:"auto"}}),wrapperProps:p}),t.push("\x3c!----\x3e")}})}})}})};Re(t,{onOpenAutoFocus:F,onCloseAutoFocus:T,loop:D,enabled:L,trapFocus:I,forceMount:U.forceMount,ref:K,focusScope:u})}t.push("\x3c!----\x3e")},$$slots:{content:!0}})})}function Pn(t,e){let{popper:n,open:s,onEscapeKeydown:o,escapeKeydownBehavior:r,preventOverflowTextSelection:a,id:c,onPointerDown:p,onPointerUp:u,side:h,sideOffset:l,align:d,alignOffset:f,arrowPadding:g,avoidCollisions:m,collisionBoundary:b,collisionPadding:y,sticky:v,hideWhenDetached:w,updatePositionStrategy:x,strategy:P,dir:O,preventScroll:C,wrapperId:A,style:S,onPlaced:k,onInteractOutside:T,onCloseAutoFocus:F,onOpenAutoFocus:M,onFocusOutside:$,interactOutsideBehavior:D="close",loop:I,trapFocus:N=!0,isValidEvent:E=()=>!1,customAnchor:B=null,isStatic:L=!1,ref:K,$$slots:R,$$events:W,...H}=e;At(t,{open:s,ref:K,presence:function(t){xn(t,i([{popper:n,onEscapeKeydown:o,escapeKeydownBehavior:r,preventOverflowTextSelection:a,id:c,onPointerDown:p,onPointerUp:u,side:h,sideOffset:l,align:d,alignOffset:f,arrowPadding:g,avoidCollisions:m,collisionBoundary:b,collisionPadding:y,sticky:v,hideWhenDetached:w,updatePositionStrategy:x,strategy:P,dir:O,preventScroll:C,wrapperId:A,style:S,onPlaced:k,customAnchor:B,isStatic:L,enabled:s,onInteractOutside:T,onCloseAutoFocus:F,onOpenAutoFocus:M,interactOutsideBehavior:D,loop:I,trapFocus:N,isValidEvent:E,onFocusOutside:$,forceMount:!1,ref:K},H]))}})}function On(t,e){let{popper:n,onEscapeKeydown:s,escapeKeydownBehavior:o,preventOverflowTextSelection:r,id:a,onPointerDown:c,onPointerUp:p,side:u,sideOffset:h,align:l,alignOffset:d,arrowPadding:f,avoidCollisions:g,collisionBoundary:m,collisionPadding:b,sticky:y,hideWhenDetached:v,updatePositionStrategy:w,strategy:x,dir:P,preventScroll:O,wrapperId:C,style:A,onPlaced:S,onInteractOutside:k,onCloseAutoFocus:T,onOpenAutoFocus:F,onFocusOutside:M,interactOutsideBehavior:$="close",loop:D,trapFocus:I=!0,isValidEvent:N=()=>!1,customAnchor:E=null,isStatic:B=!1,enabled:L,$$slots:K,$$events:R,...W}=e;xn(t,i([{popper:n,onEscapeKeydown:s,escapeKeydownBehavior:o,preventOverflowTextSelection:r,id:a,onPointerDown:c,onPointerUp:p,side:u,sideOffset:h,align:l,alignOffset:d,arrowPadding:f,avoidCollisions:g,collisionBoundary:m,collisionPadding:b,sticky:y,hideWhenDetached:v,updatePositionStrategy:w,strategy:x,dir:P,preventScroll:O,wrapperId:C,style:A,onPlaced:S,customAnchor:E,isStatic:B,enabled:L,onInteractOutside:k,onCloseAutoFocus:T,onOpenAutoFocus:F,interactOutsideBehavior:$,loop:D,trapFocus:I,isValidEvent:N,onFocusOutside:M},W,{forceMount:!0}]))}function Cn(t,e){t.component(t=>{let{open:n=!1,onOpenChange:s=S,onOpenChangeComplete:r=S,children:i}=e;Mt.create({variant:u(()=>"dialog"),open:u(()=>n,t=>{n=t,s(t)}),onOpenChangeComplete:u(()=>r)}),i?.(t),t.push("\x3c!----\x3e"),o(e,{open:n})})}function An(t,e){t.component(t=>{const r=n(t);let{children:i,child:a,id:c=g(r),ref:p=null,disabled:h=!1,$$slots:l,$$events:d,...f}=e;const b=Dt.create({variant:u(()=>"close"),id:u(()=>c),ref:u(()=>p,t=>p=t),disabled:u(()=>Boolean(h))}),y=m(f,b.props);a?(t.push("\x3c!--[--\x3e"),a(t,{props:y}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<button${s({...y})}>`),i?.(t),t.push("\x3c!----\x3e</button>")),t.push("\x3c!--]--\x3e"),o(e,{ref:p})})}function Sn(t,e){t.component(t=>{const r=n(t);let{id:a=g(r),children:c,child:p,ref:h=null,forceMount:l=!1,onCloseAutoFocus:d=S,onOpenAutoFocus:f=S,onEscapeKeydown:b=S,onInteractOutside:y=S,trapFocus:v=!0,preventScroll:w=!0,restoreScrollDelay:x=null,$$slots:P,$$events:O,...C}=e;const A=Bt.create({id:u(()=>a),ref:u(()=>h,t=>h=t)}),k=m(C,A.props);{let e=function(t){{let e=function(t,{props:e}){Be(t,i([k,{enabled:A.root.opts.open.current,ref:A.opts.ref,onEscapeKeydown:t=>{b(t),t.defaultPrevented||A.root.handleClose()},children:t=>{Ne(t,i([k,{ref:A.opts.ref,enabled:A.root.opts.open.current,onInteractOutside:t=>{y(t),t.defaultPrevented||A.root.handleClose()},children:t=>{ze(t,i([k,{ref:A.opts.ref,enabled:A.root.opts.open.current,children:t=>{p?(t.push("\x3c!--[--\x3e"),A.root.opts.open.current?(t.push("\x3c!--[--\x3e"),Qe(t,{preventScroll:w,restoreScrollDelay:x})):t.push("\x3c!--[!--\x3e"),t.push("\x3c!--]--\x3e "),p(t,{props:m(k,e),...A.snippetProps}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),Qe(t,{preventScroll:w}),t.push(`\x3c!----\x3e <div${s({...m(k,e)})}>`),c?.(t),t.push("\x3c!----\x3e</div>")),t.push("\x3c!--]--\x3e")},$$slots:{default:!0}}]))},$$slots:{default:!0}}]))},$$slots:{default:!0}}]))};Re(t,{ref:A.opts.ref,loop:!0,trapFocus:v,enabled:tn({forceMount:l,present:A.root.opts.open.current,open:A.root.opts.open.current}),onOpenAutoFocus:f,onCloseAutoFocus:d,focusScope:e})}};At(t,i([k,{forceMount:l,open:A.root.opts.open.current||l,ref:A.opts.ref,presence:e,$$slots:{presence:!0}}]))}o(e,{ref:h})})}class kn{#Jt;#Qt;#T=null;constructor(t,e){this.#Qt=t,this.#Jt=e,this.stop=this.stop.bind(this),this.start=this.start.bind(this),this.stop}#te(){null!==this.#T&&(window.clearTimeout(this.#T),this.#T=null)}stop(){this.#te()}start(...t){this.#te(),this.#T=window.setTimeout(()=>{this.#T=null,this.#Qt(...t)},this.#Jt)}}const Tn=h({component:"tooltip",parts:["content","trigger"]}),Fn=new M("Tooltip.Provider"),Mn=new M("Tooltip.Root");class $n{static create(t){return Fn.set(new $n(t))}opts;isOpenDelayed=!0;isPointerInTransit=c(!1);#ee;#ne=null;constructor(t){this.opts=t,this.#ee=new kn(()=>{this.isOpenDelayed=!0},this.opts.skipDelayDuration.current)}#se=()=>{0!==this.opts.skipDelayDuration.current&&this.#ee.start()};#oe=()=>{this.#ee.stop()};onOpen=t=>{this.#ne&&this.#ne!==t&&this.#ne.handleClose(),this.#oe(),this.isOpenDelayed=!1,this.#ne=t};onClose=t=>{this.#ne===t&&(this.#ne=null),this.#se()};isTooltipOpen=t=>this.#ne===t}class Dn{static create(t){return Mn.set(new Dn(t,Fn.get()))}opts;provider;#re=e(()=>this.opts.delayDuration.current??this.provider.opts.delayDuration.current);get delayDuration(){return this.#re()}set delayDuration(t){return this.#re(t)}#ie=e(()=>this.opts.disableHoverableContent.current??this.provider.opts.disableHoverableContent.current);get disableHoverableContent(){return this.#ie()}set disableHoverableContent(t){return this.#ie(t)}#ae=e(()=>this.opts.disableCloseOnTriggerClick.current??this.provider.opts.disableCloseOnTriggerClick.current);get disableCloseOnTriggerClick(){return this.#ae()}set disableCloseOnTriggerClick(t){return this.#ae(t)}#ce=e(()=>this.opts.disabled.current??this.provider.opts.disabled.current);get disabled(){return this.#ce()}set disabled(t){return this.#ce(t)}#pe=e(()=>this.opts.ignoreNonKeyboardFocus.current??this.provider.opts.ignoreNonKeyboardFocus.current);get ignoreNonKeyboardFocus(){return this.#pe()}set ignoreNonKeyboardFocus(t){return this.#pe(t)}contentNode=null;triggerNode=null;#ue=!1;#ee;#he=e(()=>this.opts.open.current?this.#ue?"delayed-open":"instant-open":"closed");get stateAttr(){return this.#he()}set stateAttr(t){return this.#he(t)}constructor(t,e){this.opts=t,this.provider=e,this.#ee=new kn(()=>{this.#ue=!0,this.opts.open.current=!0},this.delayDuration??0),new kt({open:this.opts.open,ref:u(()=>this.contentNode),onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),A(()=>this.delayDuration,()=>{void 0!==this.delayDuration&&(this.#ee=new kn(()=>{this.#ue=!0,this.opts.open.current=!0},this.delayDuration))}),A(()=>this.opts.open.current,t=>{t?this.provider.onOpen(this):this.provider.onClose(this)},{lazy:!0})}handleOpen=()=>{this.#ee.stop(),this.#ue=!1,this.opts.open.current=!0};handleClose=()=>{this.#ee.stop(),this.opts.open.current=!1};#le=()=>{this.#ee.stop();const t=!this.provider.isOpenDelayed,e=this.delayDuration??0;t||0===e?(this.#ue=e>0&&t,this.opts.open.current=!0):this.#ee.start()};onTriggerEnter=()=>{this.#le()};onTriggerLeave=()=>{this.disableHoverableContent?this.handleClose():this.#ee.stop()}}class In{static create(t){return new In(t,Mn.get())}opts;root;attachment;#N=c(!1);#de=!1;#fe=e(()=>this.opts.disabled.current||this.root.disabled);domContext;constructor(t,e){this.opts=t,this.root=e,this.domContext=new tt(t.ref),this.attachment=l(this.opts.ref,t=>this.root.triggerNode=t)}handlePointerUp=()=>{this.#N.current=!1};#ge=()=>{this.#fe()||(this.#N.current=!1)};#me=()=>{this.#fe()||(this.#N.current=!0,this.domContext.getDocument().addEventListener("pointerup",()=>{this.handlePointerUp()},{once:!0}))};#be=t=>{this.#fe()||"touch"!==t.pointerType&&(this.#de||this.root.provider.isPointerInTransit.current||(this.root.onTriggerEnter(),this.#de=!0))};#ye=()=>{this.#fe()||(this.root.onTriggerLeave(),this.#de=!1)};#ve=t=>{this.#N.current||this.#fe()||this.root.ignoreNonKeyboardFocus&&!X(t.currentTarget)||this.root.handleOpen()};#we=()=>{this.#fe()||this.root.handleClose()};#xe=()=>{this.root.disableCloseOnTriggerClick||this.#fe()||this.root.handleClose()};#v=e(()=>({id:this.opts.id.current,"aria-describedby":this.root.opts.open.current?this.root.contentNode?.id:void 0,"data-state":this.root.stateAttr,"data-disabled":b(this.#fe()),"data-delay-duration":`${this.root.delayDuration}`,[Tn.trigger]:"",tabindex:this.#fe()?void 0:0,disabled:this.opts.disabled.current,onpointerup:this.#ge,onpointerdown:this.#me,onpointermove:this.#be,onpointerleave:this.#ye,onfocus:this.#ve,onblur:this.#we,onclick:this.#xe,...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}}class Nn{static create(t){return new Nn(t,Mn.get())}opts;root;attachment;constructor(t,e){this.opts=t,this.root=e,this.attachment=l(this.opts.ref,t=>this.root.contentNode=t),new de({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.root.contentNode,enabled:()=>this.root.opts.open.current&&!this.root.disableHoverableContent,onPointerExit:()=>{this.root.provider.isTooltipOpen(this.root)&&this.root.handleClose()},setIsPointerInTransit:t=>{this.root.provider.isPointerInTransit.current=t},transitTimeout:this.root.provider.opts.skipDelayDuration.current})}onInteractOutside=t=>{U(t.target)&&this.root.triggerNode?.contains(t.target)&&this.root.disableCloseOnTriggerClick?t.preventDefault():(this.opts.onInteractOutside.current(t),t.defaultPrevented||this.root.handleClose())};onEscapeKeydown=t=>{this.opts.onEscapeKeydown.current?.(t),t.defaultPrevented||this.root.handleClose()};onOpenAutoFocus=t=>{t.preventDefault()};onCloseAutoFocus=t=>{t.preventDefault()};#w=e(()=>({open:this.root.opts.open.current}));get snippetProps(){return this.#w()}set snippetProps(t){return this.#w(t)}#v=e(()=>({id:this.opts.id.current,"data-state":this.root.stateAttr,"data-disabled":b(this.root.disabled),style:{pointerEvents:"auto",outline:"none"},[Tn.content]:"",...this.attachment}));get props(){return this.#v()}set props(t){return this.#v(t)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus}}function En(t,e){t.component(t=>{let{open:n=!1,onOpenChange:s=S,onOpenChangeComplete:r=S,disabled:i,delayDuration:a,disableCloseOnTriggerClick:c,disableHoverableContent:p,ignoreNonKeyboardFocus:h,children:l}=e;Dn.create({open:u(()=>n,t=>{n=t,s(t)}),delayDuration:u(()=>a),disableCloseOnTriggerClick:u(()=>c),disableHoverableContent:u(()=>p),ignoreNonKeyboardFocus:u(()=>h),disabled:u(()=>i),onOpenChangeComplete:u(()=>r)}),bn(t,{tooltip:!0,children:t=>{l?.(t),t.push("\x3c!----\x3e")}}),o(e,{open:n})})}function Bn(t,e){t.component(t=>{const r=n(t);let{children:a,child:c,id:p=g(r),ref:h=null,side:l="top",sideOffset:d=0,align:f="center",avoidCollisions:b=!0,arrowPadding:y=0,sticky:v="partial",strategy:w,hideWhenDetached:x=!1,collisionPadding:P=0,onInteractOutside:O=S,onEscapeKeydown:C=S,forceMount:A=!1,$$slots:k,$$events:T,...F}=e;const M=Nn.create({id:u(()=>p),ref:u(()=>h,t=>h=t),onInteractOutside:u(()=>O),onEscapeKeydown:u(()=>C)}),$=m(F,{side:l,sideOffset:d,align:f,avoidCollisions:b,arrowPadding:y,sticky:v,hideWhenDetached:x,collisionPadding:P,strategy:w},M.props);if(A){t.push("\x3c!--[--\x3e");{let e=function(t,{props:e,wrapperProps:n}){const o=m(e,{style:an("tooltip")});c?(t.push("\x3c!--[--\x3e"),c(t,{props:o,wrapperProps:n,...M.snippetProps}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<div${s({...n})}><div${s({...o})}>`),a?.(t),t.push("\x3c!----\x3e</div></div>")),t.push("\x3c!--]--\x3e")};On(t,i([$,M.popperProps,{enabled:M.root.opts.open.current,id:p,trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,ref:M.opts.ref,tooltip:!0,popper:e,$$slots:{popper:!0}}]))}}else{if(t.push("\x3c!--[!--\x3e"),A)t.push("\x3c!--[!--\x3e");else{t.push("\x3c!--[--\x3e");{let e=function(t,{props:e,wrapperProps:n}){const o=m(e,{style:an("tooltip")});c?(t.push("\x3c!--[--\x3e"),c(t,{props:o,wrapperProps:n,...M.snippetProps}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<div${s({...n})}><div${s({...o})}>`),a?.(t),t.push("\x3c!----\x3e</div></div>")),t.push("\x3c!--]--\x3e")};Pn(t,i([$,M.popperProps,{open:M.root.opts.open.current,id:p,trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,ref:M.opts.ref,tooltip:!0,popper:e,$$slots:{popper:!0}}]))}}t.push("\x3c!--]--\x3e")}t.push("\x3c!--]--\x3e"),o(e,{ref:h})})}function Ln(t,e){t.component(t=>{let n,{ref:s=null,$$slots:r,$$events:a,...c}=e,p=!0;function u(t){vn(t,i([c,{get ref(){return s},set ref(t){s=t,p=!1}}]))}do{p=!0,n=t.copy(),u(n)}while(!p);t.subsume(n),o(e,{ref:s})})}function Kn(t,e){t.component(t=>{let{children:n,delayDuration:s=700,disableCloseOnTriggerClick:o=!1,disableHoverableContent:r=!1,disabled:i=!1,ignoreNonKeyboardFocus:a=!1,skipDelayDuration:c=300}=e;$n.create({delayDuration:u(()=>s),disableCloseOnTriggerClick:u(()=>o),disableHoverableContent:u(()=>r),disabled:u(()=>i),ignoreNonKeyboardFocus:u(()=>a),skipDelayDuration:u(()=>c)}),n?.(t),t.push("\x3c!----\x3e")})}let Rn=!1;class Wn{static _refs=0;static _cleanup;constructor(){}get current(){return Rn}set current(t){Rn=t}}function Hn(t,e){t.component(t=>{let r,{ref:a=null,$$slots:c,$$events:p,...h}=e,l=!0;function d(t){t.push("\x3c!----\x3e"),function(t,e){t.component(t=>{const r=n(t);let{children:i,child:a,id:c=g(r),disabled:p=!1,type:h="button",ref:l=null,$$slots:d,$$events:f,...b}=e;const y=In.create({id:u(()=>c),disabled:u(()=>p??!1),ref:u(()=>l,t=>l=t)}),v=m(b,y.props,{type:h});yn(t,{id:c,ref:y.opts.ref,tooltip:!0,children:t=>{a?(t.push("\x3c!--[--\x3e"),a(t,{props:v}),t.push("\x3c!----\x3e")):(t.push("\x3c!--[!--\x3e"),t.push(`<button${s({...v})}>`),i?.(t),t.push("\x3c!----\x3e</button>")),t.push("\x3c!--]--\x3e")}}),o(e,{ref:l})})}(t,i([{"data-slot":"tooltip-trigger"},h,{get ref(){return a},set ref(t){a=t,l=!1}}])),t.push("\x3c!----\x3e")}do{l=!0,r=t.copy(),d(r)}while(!l);t.subsume(r),o(e,{ref:a})})}function Un(t,e){let{$$slots:n,$$events:s,...o}=e;Hn(t,i([o]))}function zn(t,e){t.component(t=>{let n,{ref:r=null,class:c,sideOffset:p=0,side:u="top",children:h,arrowClasses:l,$$slots:d,$$events:f,...g}=e,m=!0;function b(t){t.push("\x3c!----\x3e"),_t(t,{children:t=>{t.push("\x3c!----\x3e"),Bn(t,i([{"data-slot":"tooltip-content",dir:"rtl",sideOffset:p,side:u,class:T("bg-primary text-primary-foreground text-right dir-rtl animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--bits-tooltip-content-transform-origin) z-50 w-fit text-balance rounded-md px-3 py-1.5 text-xs",c)},g,{get ref(){return r},set ref(t){r=t,m=!1},children:t=>{h?.(t),t.push("\x3c!----\x3e \x3c!----\x3e");Ln(t,{child:function(t,{props:e}){t.push(`<div${s({class:a(T("bg-primary z-50 size-2.5 rotate-45 rounded-[2px]","data-[side=top]:translate-x-1/2 data-[side=top]:translate-y-[calc(-50%_+_2px)]","data-[side=bottom]:-translate-x-1/2 data-[side=bottom]:-translate-y-[calc(-50%_+_1px)]","data-[side=right]:translate-x-[calc(50%_+_2px)] data-[side=right]:translate-y-1/2","data-[side=left]:-translate-y-[calc(50%_-_3px)]",l)),...e})}></div>`)},$$slots:{child:!0}});t.push("\x3c!----\x3e")},$$slots:{default:!0}}])),t.push("\x3c!----\x3e")}}),t.push("\x3c!----\x3e")}do{m=!0,n=t.copy(),b(n)}while(!m);t.subsume(n),o(e,{ref:r})})}const Gn=En,_n=Kn;function jn(t,e){t.component(t=>{let n,{ref:s=null,class:r,$$slots:a,$$events:c,...p}=e,u=!0;function h(t){t.push("\x3c!----\x3e"),en(t,i([{"data-slot":"sheet-overlay",class:ft("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r)},p,{get ref(){return s},set ref(t){s=t,u=!1}}])),t.push("\x3c!----\x3e")}do{u=!0,n=t.copy(),h(n)}while(!u);t.subsume(n),o(e,{ref:s})})}function Yn(t,e){t.component(t=>{
/**
     * @license @lucide/svelte v0.544.0 - ISC
     *
     * ISC License
     *
     * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
     *
     * Permission to use, copy, modify, and/or distribute this software for any
     * purpose with or without fee is hereby granted, provided that the above
     * copyright notice and this permission notice appear in all copies.
     *
     * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
     * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
     * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
     * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
     * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
     * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
     * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
     *
     * ---
     *
     * The MIT License (MIT) (for portions derived from Feather)
     *
     * Copyright (c) 2013-2023 Cole Bemis
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in all
     * copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
     * SOFTWARE.
     *
     */
let{$$slots:n,$$events:s,...o}=e;gt(t,i([{name:"x"},o,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:t=>{o.children?.(t),t.push("\x3c!----\x3e")},$$slots:{default:!0}}]))})}function Vn(t,e){t.component(t=>{let{ref:n=null,class:r,children:i,$$slots:c,$$events:p,...u}=e;t.push(`<div${s({"data-slot":"sheet-header",class:a(ft("flex flex-col gap-1.5 p-4",r)),...u})}>`),i?.(t),t.push("\x3c!----\x3e</div>"),o(e,{ref:n})})}export{ke as $,Kt as A,zn as B,he as C,Cn as D,Be as E,Re as F,de as G,ce as H,le as I,oe as J,re as K,ie as L,we as M,ae as N,kt as O,_t as P,Kn as Q,Gn as R,Qe as S,ze as T,En as U,Fe as V,Me as W,Yn as X,Bn as Y,Ln as Z,Hn as _,Te as a,Oe as a0,Ce as a1,Ae as a2,$e as a3,$t as a4,ne as a5,Ge as a6,zt as a7,Sn as b,en as c,Rt as d,nn as e,An as f,wt as g,At as h,Mt as i,It as j,Bt as k,vt as l,Ne as m,Qt as n,bn as o,On as p,Pn as q,an as r,tn as s,mt as t,yn as u,se as v,jn as w,Vn as x,_n as y,Un as z};
