import{p as e,k as o,m as s,s as p}from"./index.js";import{$ as n,a0 as t,a1 as r,o as c,a2 as u,p as a,q as i,r as d,a3 as l,u as x}from"./sheet-header.js";import{c as h,b as f,m as $}from"./create-id.js";import{n as m}from"./noop.js";function v(p,t){p.component(p=>{const r=e(p);let{child:c,children:u,ref:a=null,id:i=h(r),disabled:d=!1,onSelect:l=m,closeOnSelect:x=!0,$$slots:v,$$events:b,...w}=t;const P=n.create({id:f(()=>i),disabled:f(()=>d),onSelect:f(()=>l),ref:f(()=>a,e=>a=e),closeOnSelect:f(()=>x)}),g=$(w,P.props);c?(p.push("\x3c!--[--\x3e"),c(p,{props:g}),p.push("\x3c!----\x3e")):(p.push("\x3c!--[!--\x3e"),p.push(`<div${o({...g})}>`),u?.(p),p.push("\x3c!----\x3e</div>")),p.push("\x3c!--]--\x3e"),s(t,{ref:a})})}function b(e,o){e.component(e=>{let{open:p=!1,dir:n="ltr",onOpenChange:u=m,onOpenChangeComplete:a=m,_internal_variant:i="dropdown-menu",children:d}=o;const l=t.create({variant:f(()=>i),dir:f(()=>n),onClose:()=>{p=!1,u(!1)}});r.create({open:f(()=>p,e=>{p=e,u(e)}),onOpenChangeComplete:f(()=>a)},l),c(e,{children:e=>{d?.(e),e.push("\x3c!----\x3e")}}),s(o,{open:p})})}function w(n,t){n.component(n=>{const r=e(n);let{id:c=h(r),child:l,children:x,ref:v=null,loop:b=!0,onInteractOutside:w=m,onEscapeKeydown:P=m,onCloseAutoFocus:g=m,forceMount:C=!1,trapFocus:M=!1,$$slots:O,$$events:y,...F}=t;const j=u.create({id:f(()=>c),loop:f(()=>b),ref:f(()=>v,e=>v=e),onCloseAutoFocus:f(()=>g)}),E=$(F,j.props);function I(e){if(j.handleInteractOutside(e),!e.defaultPrevented&&(w(e),!e.defaultPrevented)){if(e.target&&e.target instanceof Element){const o=`[${j.parentMenu.root.getBitsAttr("sub-content")}]`;if(e.target.closest(o))return}j.parentMenu.onClose()}}function S(e){P(e),e.defaultPrevented||j.parentMenu.onClose()}if(C){n.push("\x3c!--[--\x3e");{let e=function(e,{props:s,wrapperProps:p}){const n=$(s,{style:d("dropdown-menu")});l?(e.push("\x3c!--[--\x3e"),l(e,{props:n,wrapperProps:p,...j.snippetProps}),e.push("\x3c!----\x3e")):(e.push("\x3c!--[!--\x3e"),e.push(`<div${o({...p})}><div${o({...n})}>`),x?.(e),e.push("\x3c!----\x3e</div></div>")),e.push("\x3c!--]--\x3e")};a(n,p([E,j.popperProps,{ref:j.opts.ref,enabled:j.parentMenu.opts.open.current,onInteractOutside:I,onEscapeKeydown:S,trapFocus:M,loop:b,forceMount:!0,id:c,popper:e,$$slots:{popper:!0}}]))}}else{if(n.push("\x3c!--[!--\x3e"),C)n.push("\x3c!--[!--\x3e");else{n.push("\x3c!--[--\x3e");{let e=function(e,{props:s,wrapperProps:p}){const n=$(s,{style:d("dropdown-menu")});l?(e.push("\x3c!--[--\x3e"),l(e,{props:n,wrapperProps:p,...j.snippetProps}),e.push("\x3c!----\x3e")):(e.push("\x3c!--[!--\x3e"),e.push(`<div${o({...p})}><div${o({...n})}>`),x?.(e),e.push("\x3c!----\x3e</div></div>")),e.push("\x3c!--]--\x3e")};i(n,p([E,j.popperProps,{ref:j.opts.ref,open:j.parentMenu.opts.open.current,onInteractOutside:I,onEscapeKeydown:S,trapFocus:M,loop:b,forceMount:!1,id:c,popper:e,$$slots:{popper:!0}}]))}}n.push("\x3c!--]--\x3e")}n.push("\x3c!--]--\x3e"),s(t,{ref:v})})}function P(n,t){n.component(n=>{let r,{ref:c=null,$$slots:u,$$events:a,...i}=t,d=!0;function m(n){n.push("\x3c!----\x3e"),function(p,n){p.component(p=>{const t=e(p);let{id:r=h(t),ref:c=null,child:u,children:a,disabled:i=!1,type:d="button",$$slots:m,$$events:v,...b}=n;const w=l.create({id:f(()=>r),disabled:f(()=>i??!1),ref:f(()=>c,e=>c=e)}),P=$(b,w.props,{type:d});x(p,{id:r,ref:w.opts.ref,children:e=>{u?(e.push("\x3c!--[--\x3e"),u(e,{props:P}),e.push("\x3c!----\x3e")):(e.push("\x3c!--[!--\x3e"),e.push(`<button${o({...P})}>`),a?.(e),e.push("\x3c!----\x3e</button>")),e.push("\x3c!--]--\x3e")}}),s(n,{ref:c})})}(n,p([{"data-slot":"dropdown-menu-trigger"},i,{get ref(){return c},set ref(e){c=e,d=!1}}])),n.push("\x3c!----\x3e")}do{d=!0,r=n.copy(),m(r)}while(!d);n.subsume(r),s(t,{ref:c})})}export{P as D,v as M,w as a,b};
