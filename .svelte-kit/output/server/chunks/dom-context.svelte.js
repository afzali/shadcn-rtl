import{v as t}from"./index.js";import{x as e,b as o}from"./create-id.js";class r{#t=()=>{};#e=t(()=>this.#t());constructor(t,e){let o;void 0!==e&&(o=e),this.#t=()=>{try{return o}finally{o=t()}}}get current(){return this.#e()}}function n(t){return e(t)&&1===t.nodeType&&"string"==typeof t.nodeName}function i(t){return e(t)&&9===t.nodeType}function u(t){return function(t){return e(t)&&void 0!==t.nodeType}(t)&&11===t.nodeType&&"host"in t}function s(t,e){if(!t||!e)return!1;if(!n(t)||!n(e))return!1;const o=e.getRootNode?.();if(t===e)return!0;if(t.contains(e))return!0;if(o&&u(o)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function c(t){return i(t)?t:function(t){return e(t)&&"VisualViewport"===t.constructor?.name}(t)?t.document:t?.ownerDocument??document}function l(t){return u(t)?l(t.host):i(t)?t.defaultView??window:n(t)?t.ownerDocument?.defaultView??window:window}class a{element;#o=t(()=>{if(!this.element.current)return document;return this.element.current.getRootNode()??document});get root(){return this.#o()}set root(t){return this.#o(t)}constructor(t){this.element="function"==typeof t?o(t):t}getDocument=()=>c(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>function(t){let e=t.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}(this.root);isActiveElement=t=>t===this.getActiveElement();getElementById(t){return this.root.getElementById(t)}querySelector=t=>this.root?this.root.querySelector(t):null;querySelectorAll=t=>this.root?this.root.querySelectorAll(t):[];setTimeout=(t,e)=>this.getWindow().setTimeout(t,e);clearTimeout=t=>this.getWindow().clearTimeout(t)}export{a as D,r as P,l as a,s as c,c as g};
